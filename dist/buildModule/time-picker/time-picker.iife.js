this.dw=this.dw||{};this.dw["uitime-picker"]=function(C,t){"use strict";const J=(o,n)=>(o.install=function(u){if(o){const s=o.name||o.__name;if(s||n){const p=n?`dw-${n}`:"dw-"+s.replace(/dw/gi,"").toLowerCase();u.component(p,o)}else console.error(o,n,!n)}},o),W=o=>Array.isArray(o);function y(o){const n=`vi-${o}`;return{n:p=>p?p.startsWith("-")?`${n}${p}`:`${n}_${p}`:n,classes:(...p)=>p.map(l=>{if(W(l)){const[v,w,h=null]=l;return v?w:h}return l})}}const L={clearable:{type:[String,Boolean],default:!1},isRange:{type:[String,Boolean],default:!1},disabledHours:{type:Array,default:[]},disabledMinutes:{type:Array,default:[]},disabledSeconds:{type:Array,default:[]},arrowControl:{type:[String,Boolean],default:""},placeholder:{type:String,default:"Arbitrary time"},startPlaceholder:String,endPlaceholder:String,modelValue:{type:[String,Number,Boolean],default:""},dynamicCss:{type:Object,default:()=>({"input-box-shadow-x":"0","input-box-shadow-y":"0","input-box-shadow-blur":"0","input-box-shadow-spread":"1","input-box-shadow-color":"#dcdfe6","input-hover-box-shadow-x":"0","input-hover-box-shadow-y":"0","input-hover-box-shadow-blur":"0","input-hover-box-shadow-spread":"1","input-hover-box-shadow-color":"#85a2dd","input-active-box-shadow-x":"0","input-active-box-shadow-y":"0","input-active-box-shadow-blur":"0","input-active-box-shadow-spread":"1","input-active-box-shadow-color":"rgb(0, 94, 255)","input-border-radius":"4","input-line-padding-t":"0","input-line-padding-r":"28","input-line-padding-b":"0","input-line-padding-l":"8","input-bg-color":"rgba(255,255,255)","input-fo-color":"#606266","input-fo-size":"12","input-fo-weight":"600","input-line-height":"30","input-width":"200","input-text-alight":"start","input-icon-width":"12","input-icon-color":"#000","input-icon-hover-color":"#008cc8","input-placeholder-fo-color":"gray","popper-bg-color":"#fff","popper-height":"228","popper-border-radius":"8","popper-z-index":"999","popper-box-shadow-x":"0","popper-box-shadow-y":"0","popper-box-shadow-blur":"12","popper-box-shadow-spread":"0","popper-box-shadow-color":"rgba(0, 0, 0, 0.12)","popper-arrow-height":"5","popper-panel-padding-t":"8","popper-panel-padding-r":"4","popper-panel-padding-b":"0","popper-panel-padding-l":"4","popper-footer-height":"36","popper-footer-fo-size":"12","popper-footer-border-top-width":"1","popper-footer-border-top-style":"solid","popper-footer-border-top-color":"rgb(228, 231, 237)","popper-footer-cancel-fo-color":"#303133","popper-footer-ok-fo-color":"skyblue","popper-footer-ok-fo-weight":"800","popper-footer-ok-margin-t":"0","popper-footer-ok-margin-r":"5","popper-footer-ok-margin-b":"0","popper-footer-ok-margin-l":"5","popper-footer-ok-padding-t":"0","popper-footer-ok-padding-r":"5","popper-footer-ok-padding-b":"0","popper-footer-ok-padding-l":"5","popper-spinner-pitch-box-border-top-width":"1","popper-spinner-pitch-box-border-top-style":"solid","popper-spinner-pitch-box-border-top-color":"#e4e7ed","popper-spinner-pitch-box-border-bottom-width":"1","popper-spinner-pitch-box-border-bottom-style":"solid","popper-spinner-pitch-box-border-bottom-color":"#e4e7ed","popper-spinner-number-height":"32","popper-spinner-number-fo-color":"#606266","popper-spinner-number-fo-size":"12","popper-spinner-number-hover-bg-color":"#e0e0e0","popper-spinner-number-active-fo-color":"#000","popper-spinner-number-active-fo-weight":"700","popper-spinner-number-active-hover-bg-color":"rgba($color: #e0e0e0, $alpha: 0)","popper-spinner-number-disabled-fo-color":"rgb(223, 223, 223)","popper-spinner-number-disabled-hover-bg-color":"rgba($color: #e0e0e0, $alpha: 0)","scroll-bar-thumb-width":"8",scrollBarHeight:"60",scrollBarBgColor:"rgb(218, 218, 218)",scrollBarBgColorHover:"skyblue"})}},H=Symbol("time-picker"),D=function(o,n){for(let[u,s]of Object.entries(n.value))o.style.setProperty("--"+u,s)},B={mounted(o,n){D(o,n)},updated(o,n){D(o,n)},install(o){o.directive("Css",this)}},{n:q,classes:Q}=y("input-svg-icon"),X=t.defineComponent({name:"VIInputSvgIcon",emits:["click"],props:{path:{type:String,default:`M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 
            764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 
            45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z`},height:{type:[String,Number],default:"12px"},width:{type:[String,Number],default:"12px"},modelValue:{type:[String,Number,Boolean],default:""}},setup(o,n){const u=function(s){n.emit("click",s)};return()=>t.createVNode("svg",{class:[Q(q()),"icon"],height:o.height,width:o.width,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",onClick:u},[t.createVNode("path",{fill:"currentColor",d:o.path},null)])}}),$={modelValue:{type:[String,Number,Array],default:""},showPassword:{type:[String,Boolean],default:!1},disabled:{type:[String,Boolean],default:!1},readonly:{type:[String,Boolean],default:!1},clearable:{type:[String,Boolean],default:!1},placeholder:{type:String,default:"请选择您需要的内容o(*￣▽￣*)ブ"},dynamicCss:{type:Object,default:()=>({"input-box-shadow-x":"0","input-box-shadow-y":"0","input-box-shadow-blur":"0","input-box-shadow-spread":"1","input-box-shadow-color":"#dcdfe6","input-hover-box-shadow-x":"0","input-hover-box-shadow-y":"0","input-hover-box-shadow-blur":"0","input-hover-box-shadow-spread":"1","input-hover-box-shadow-color":"#85a2dd","input-active-box-shadow-x":"0","input-active-box-shadow-y":"0","input-active-box-shadow-blur":"0","input-active-box-shadow-spread":"1","input-active-box-shadow-color":"rgb(0, 94, 255)","input-border-radius":"4","input-line-padding-t":"0","input-line-padding-r":"28","input-line-padding-b":"0","input-line-padding-l":"8","input-bg-color":"rgba(255,255,255)","input-fo-color":"#606266","input-fo-size":"12","input-fo-weight":"600","input-line-height":"30","input-width":"200","input-text-alight":"start","input-icon-width":"12","input-icon-color":"#000","input-icon-hover-color":"#008cc8","input-placeholder-fo-color":"gray"})}},{n:Y,classes:Z}=y("timePickerInput"),ee=t.defineComponent({name:"VITimePickerInput",emits:["focus","blur","click","update:modelValue","close"],directives:{css:B},props:$,components:{"vi-input-svg-icon":X},setup(o,n){const u="M576 512l277.333333 277.333333-64 64-277.333333-277.333333L234.666667 853.333333 170.666667 789.333333l277.333333-277.333333L170.666667 234.666667 234.666667 170.666667l277.333333 277.333333L789.333333 170.666667 853.333333 234.666667 576 512z",s=t.reactive({softFocus:!1,isHover:!1}),p=function(m){b.value||n.emit("click",m)},l=function(m){b.value||(n.emit("update:modelValue",m.target.value),n.emit("close"),m.stopPropagation())},v=function(m){b.value||(n.emit("focus",m),s.softFocus=!0)},w=function(m){b.value||(n.emit("blur",m),s.softFocus=!1)},h=function(m){b.value||(s.isHover=!0)},V=function(m){b.value||(s.isHover=!1)},S=function(m){b.value||n.emit("update:modelValue",m.target.value)},r=function(m){b.value||n.emit("update:modelValue",m.target.value)},a=t.computed(()=>Object.assign($.dynamicCss.default(),o.dynamicCss)),k=t.computed(()=>typeof o.readonly=="string"?!0:o.readonly),M=t.computed(()=>typeof o.clearable=="string"?!0:o.clearable),T=t.computed(()=>typeof o.showPassword=="string"?!0:o.showPassword),b=t.computed(()=>typeof o.disabled=="string"?!0:o.disabled),_=t.computed(()=>s.softFocus?"active":"");return()=>t.withDirectives(t.createVNode("div",{class:[Z(Y()),_.value,b.value?"disabled":""],onClick:p,onMouseenter:h,onMouseleave:V},[t.createVNode("input",{class:[Y("_inner")],placeholder:o.placeholder,onFocus:v,onBlur:w,readonly:k.value||b.value,value:o.modelValue,onChange:S,onInput:r,type:T.value?"password":"text"},null),o.modelValue&&M.value&&s.isHover?t.createVNode(t.resolveComponent("vi-input-svg-icon"),{class:"icon",height:a.value["input-icon-width"],width:a.value["input-icon-width"],path:u,onClick:l},null):""]),[[t.resolveDirective("css"),a.value||{}]])}}),{n:N,classes:E}=y("popper"),te=t.defineComponent({name:"VITimePickerPopper",emits:["focus","blur","click"],props:["active"],setup(o,n){let{timePickerRef:u}=t.inject(H);const s=t.reactive({parentRect:{x:0,y:0,height:0,width:0},dropdownTop:"0"}),p=t.ref(null),l=t.ref(null),v=()=>{t.nextTick(()=>{s.parentRect=u.value.getBoundingClientRect(),s.dropdownTop=s.parentRect.height+10+"px"})};return t.onMounted(()=>v()),()=>{var w,h;return t.createVNode("div",{class:[N(""),o.active?"active":""],style:{top:s.dropdownTop}},[t.createVNode("div",{ref:p,class:[N("_arrow")]},[o.active]),t.createVNode("div",{ref:l,class:[E(N("_content"))]},[t.createVNode("div",{class:[E(N("_inner"))]},[(h=(w=n.slots).default)==null?void 0:h.call(w)])])])}}}),{n:x,classes:oe}=y("scroll-bar"),ne=t.defineComponent({name:"VIScrollBar",emits:["focus","blur","click","scroll","getRef"],props:["dynamicCss"],directives:{css:B},setup(o,n){const u=t.ref(),s=t.ref(),p=t.ref(),l=t.reactive({realMargin:0,realPadding:0,viewHeight:0,realHeight:"0",maxScrollBoxRange:0,proportion:0,scrollBarHeight:0,maxScrollBarRange:0,scrollBarMovePropor:0,scrollBoxMovePropor:0,translateY:0,startY:0,moveY:0,_move:0,mouseMoving:!1,scrollBoxRealHeight:0,scrollBarViewHeight:0,scrollBoxMaxRange:0});t.onMounted(()=>{t.nextTick(()=>{let a=window.getComputedStyle(p.value).height.replace("px","");l.scrollBoxRealHeight=Number(a);let k=window.getComputedStyle(u.value).height.replace("px","");l.scrollBarViewHeight=Number(k),l.scrollBoxMaxRange=l.scrollBoxRealHeight-l.scrollBarViewHeight,n.emit&&n.emit("getRef",u)})});const v=t.computed(()=>l.scrollBarHeight<l.realHeight.replace("px","")*1),w=function(a){n.emit("scroll",a)},h=function(a){document.addEventListener("mousedown",V),document.addEventListener("mousemove",S)},V=function(a){l.mouseMoving=!0,l.startY=a.clientY},S=function(a){l.moveY=l.startY-a.clientY,r()};document.addEventListener("mouseup",()=>{document.removeEventListener("mousemove",S),document.removeEventListener("mousedown",V),l.startY=0,l.moveY=0,l.mouseMoving&&(l.translateY=l._move),l.mouseMoving=!1});const r=function(){let a=0;l.moveY<0?a=l.translateY+Math.abs(l.moveY):l.moveY>=0&&(a=l.translateY-Math.abs(l.moveY)),a<0&&(a=0),a>l.maxScrollBarRange&&(a=l.maxScrollBarRange),l._move=a,s.value.style.transform=`translateY(${a}px)`,u.value.scrollTop=Math.abs(l.scrollBoxMovePropor*a)};return()=>{var a,k;return t.withDirectives(t.createVNode("div",{class:[oe(x())]},[t.createVNode("div",{class:x("left"),ref:u,onScroll:w},[t.createVNode("div",{ref:p},[(k=(a=n.slots).default)==null?void 0:k.call(a)])]),v.value?t.createVNode("div",{ref:s,class:x("right"),style:{height:l.scrollBarHeight+"px"},onMousedown:h},null):""]),[[t.resolveDirective("css"),Object.assign(o.dynamicCss||{},{})]])}}}),{n:re,classes:ie}=y("time-picker"),A=J(t.defineComponent({name:"VITimePicker",emits:["click","inputClick","closeClick","cancelClick","okClick","update:modelValue"],directives:{css:B},props:L,components:{"vi-time-picker-input":ee,"vi-time-picker-popper":te,"vi-scroll-bar":ne},setup(o,n){const u=[null,null,null];let s="";const p=e=>e<10?"0"+e:e+"",l=e=>{const i=e.match(/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/);return i||console.warn("初始化数据格式不符合规范,已被清空！"),i},v=()=>"xxxxxxxx".replace(/[xy]/g,function(e){var i=0|16*Math.random(),c=e=="x"?i:8|3&i;return c.toString(16)}),w=t.ref();let h=t.ref(),V=t.ref(),S=t.ref();const r=t.reactive({uuid:v(),popperVisible:!1,softFocus:!1,isSubmit:!1,hourList:[],minuteList:[],secondList:[],currentSelect:["","",""]}),a=e=>h=e,k=e=>V=e,M=e=>S=e,T=function(){r.popperVisible=!1,r.softFocus=!1},b=function(e){let i=!1;for(let c=0;c<e.path.length;c++){const d=e.path[c];if(d.classList&&d.classList.value&&d.getAttribute("class").includes("-time-picker")&&d.dataset.id==r.uuid){i=!0;break}}i||(T(),r.isSubmit=!0)};document.addEventListener("mousedown",b);const _=function(e){},m=function(e){},le=function(){n.emit&&n.emit("click")},se=function(e){r.popperVisible=!r.popperVisible,r.isSubmit=!1,o.modelValue||ge(),n.emit&&n.emit("inputClick")},ae=function(){r.popperVisible=!1,n.emit&&n.emit("closeClick")},ce=function(e){const{type:i}=e.target.dataset;r.popperVisible=!1,i=="cancel"?(r.isSubmit=!1,n.emit&&n.emit("update:modelValue",s),n.emit&&n.emit("cancelClick"),F()):i=="ok"&&(r.isSubmit=!0,n.emit&&n.emit("okClick",r.currentSelect))},R=function(e,i){const c={index:{hour:"0",minute:"1",second:"2"},ref:{hour:h,minute:V,second:S}},{num:d,disabled:f}=i.dataset;if(d){if(f=="true")return;r.currentSelect[c.index[e]]=d;const K=Number(r.currentSelect[c.index[e]])*Number(g.value["popper-spinner-number-height"]);c.ref[e].value.scrollTop=K}},ue=function(e){R("hour",e.target)},pe=function(e){R("minute",e.target)},de=function(e){R("second",e.target)},P=function(e,i){const c={timers:{hour:0,minute:1,second:2},ableRange:{hour:"disabledHours",minute:"disabledMinutes",second:"disabledSeconds"}};let d=e.scrollTop,f=Math.round(d/Number(g.value["popper-spinner-number-height"]));if(o[c.ableRange[i]].filter(Se=>Se==f).length>0)return;r.currentSelect[c.timers[i]]=p(f);let Ve=f*Number(g.value["popper-spinner-number-height"]);u[c.timers[i]]&&(clearTimeout(u[c.timers[i]]),u[c.timers[i]]=null),u[c.timers[i]]=setTimeout(()=>{e.scrollTop=Ve},200)},me=function(e){P(e.target,"hour")},fe=function(e){P(e.target,"minute")},he=function(e){P(e.target,"second")},be=()=>{r.hourList=new Array(24).fill(0).map((e,i)=>i<10?"0"+i:i+""),r.minuteList=new Array(60).fill(0).map((e,i)=>i<10?"0"+i:i+""),r.secondList=new Array(60).fill(0).map((e,i)=>i<10?"0"+i:i+"")},F=function(){s&&(h.value.scrollTop=Number(s.slice(0,2))*Number(g.value["popper-spinner-number-height"]),V.value.scrollTop=Number(s.slice(3,5))*Number(g.value["popper-spinner-number-height"]),S.value.scrollTop=Number(s.slice(6,8))*Number(g.value["popper-spinner-number-height"]))},ge=()=>{const e=new Date,i=e.getHours(),c=e.getMinutes(),d=e.getSeconds();r.currentSelect[0]=p(i),r.currentSelect[1]=p(c),r.currentSelect[2]=p(d),h.value.scrollTop=Number(r.currentSelect[0])*Number(g.value["popper-spinner-number-height"]),V.value.scrollTop=Number(r.currentSelect[1])*Number(g.value["popper-spinner-number-height"]),S.value.scrollTop=Number(r.currentSelect[2])*Number(g.value["popper-spinner-number-height"]),n.emit&&n.emit("update:modelValue",r.currentSelect[0]+":"+r.currentSelect[1]+":"+r.currentSelect[2])},O=function(){if(o.modelValue&&l(o.modelValue)){const e=o.modelValue.split(":"),i=o.disabledHours.findIndex(f=>f==e[0])!=-1,c=o.disabledMinutes.findIndex(f=>f==e[1])!=-1,d=o.disabledSeconds.findIndex(f=>f==e[2])!=-1;if(i||c||d)return console.warn("输入的值包含禁用项,已被清空"),n.emit&&n.emit("update:modelValue",""),!0}return!1};t.onBeforeMount(()=>{if(o.modelValue&&l(o.modelValue)&&!O()){const e=o.modelValue.split(":");r.currentSelect[0]=e[0],r.currentSelect[1]=e[1],r.currentSelect[2]=e[2],s=o.modelValue}}),t.onMounted(()=>{be(),t.nextTick(()=>{F()})});const g=t.computed(()=>Object.assign(L.dynamicCss.default(),o.dynamicCss)),we=t.computed(()=>{const e={};for(const i in g.value)i.includes("input")&&(e[i]=g.value[i]);return e}),j=t.computed({get(){return O(),o.modelValue},set(e){n.emit&&n.emit("update:modelValue",e)}}),ve=t.computed(()=>o.clearable),I=function(e,i){const c={hour:"disabledHours",minute:"disabledMinutes",second:"disabledSeconds"};let d=!1;return o[c[e]].forEach(f=>f==i?d=!0:""),d},z=t.computed(()=>function(e){return I("hour",e)}),G=t.computed(()=>function(e){return I("minute",e)}),U=t.computed(()=>function(e){return I("second",e)});return t.watchEffect(()=>{const e=r.currentSelect[0],i=r.currentSelect[1],c=r.currentSelect[2];if(!e&&!i&&!c){n.emit&&n.emit("update:modelValue","");return}const d=e+":"+i+":"+c;n.emit&&n.emit("update:modelValue",d)}),t.watchEffect(()=>{r.isSubmit&&(s=o.modelValue,n.emit&&n.emit("update:modelValue",s))}),t.provide(H,{timePickerRef:w}),()=>t.withDirectives(t.createVNode("div",{ref:w,"data-id":r.uuid,class:[ie(re())],onClick:le},[t.createVNode(t.resolveComponent("vi-time-picker-input"),{placeholder:o.placeholder,modelValue:j.value,"onUpdate:modelValue":e=>j.value=e,onFocus:_,onBlur:m,onClose:ae,dynamicCss:we.value||{},clearable:ve.value,readonly:!0,onClick:se},null),t.createVNode(t.resolveComponent("vi-time-picker-popper"),{active:r.popperVisible},{default:()=>[t.createVNode("div",{class:"time-panel"},[t.createVNode("div",{class:"time-panel__content"},[t.createVNode(t.resolveComponent("vi-scroll-bar"),{onGetRef:a,class:"time-panel__spinner time-panel__popper-spinner--hour",onScroll:me},{default:()=>[t.createVNode("ul",{onClick:ue},[r.hourList.map(e=>t.createVNode("li",{"data-num":e,"data-disabled":z.value(e),class:[r.currentSelect[0]==e?"active":"",z.value(e)?"disabled":""]},[e]))])]}),t.createVNode(t.resolveComponent("vi-scroll-bar"),{onGetRef:k,class:"time-panel__spinner time-panel__popper-spinner--minutes",onScroll:fe},{default:()=>[t.createVNode("ul",{onClick:pe},[r.minuteList.map(e=>t.createVNode("li",{"data-num":e,"data-disabled":G.value(e),class:[r.currentSelect[1]==e?"active":"",G.value(e)?"disabled":""]},[e]))])]}),t.createVNode(t.resolveComponent("vi-scroll-bar"),{onGetRef:M,class:"time-panel__spinner time-panel__popper-spinner--second",onScroll:he},{default:()=>[t.createVNode("ul",{onClick:de},[r.secondList.map(e=>t.createVNode("li",{"data-num":e,"data-disabled":U.value(e),class:[r.currentSelect[2]==e?"active":"",U.value(e)?"disabled":""]},[e]))])]})]),t.createVNode("div",{class:"time-panel__footer",onClick:ce},[t.createVNode("div",{"data-type":"cancel",class:"time-panel__footer_cancel"},[t.createTextVNode("取消")]),t.createVNode("div",{"data-type":"ok",class:"time-panel__footer_ok"},[t.createTextVNode("确认")])])])]})]),[[t.resolveDirective("css"),g.value||{}]])}}),"time-picker");return C.VITimePicker=A,C.default=A,Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}}),C}({},Vue);
