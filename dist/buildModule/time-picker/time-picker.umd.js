(function(B,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(B=typeof globalThis<"u"?globalThis:B||self,e((B.dw=B.dw||{},B.dw["uitime-picker"]={}),B.Vue))})(this,function(B,e){"use strict";const q=(o,r)=>(o.install=function(p){if(o){const s=o.name||o.__name;if(s||r){const c=r?`dw-${r}`:"dw-"+s.replace(/dw/gi,"").toLowerCase();p.component(c,o)}else console.error(o,r,!r)}},o),ue=o=>Array.isArray(o);function _(o){const r=`vi-${o}`;return{n:c=>c?c.startsWith("-")?`${r}${c}`:`${r}_${c}`:r,classes:(...c)=>c.map(b=>{if(ue(b)){const[N,n,m=null]=b;return N?n:m}return b})}}const G={clearable:{type:[String,Boolean],default:!1},isRange:{type:[String,Boolean],default:!1},disabledHours:{type:Array,default:[]},disabledMinutes:{type:Array,default:[]},disabledSeconds:{type:Array,default:[]},arrowControl:{type:[String,Boolean],default:""},placeholder:{type:String,default:"Arbitrary time"},startPlaceholder:String,endPlaceholder:String,modelValue:{type:[String,Number,Boolean],default:""},dynamicCss:{type:Object,default:()=>({"input-box-shadow-x":"0","input-box-shadow-y":"0","input-box-shadow-blur":"0","input-box-shadow-spread":"1","input-box-shadow-color":"#dcdfe6","input-hover-box-shadow-x":"0","input-hover-box-shadow-y":"0","input-hover-box-shadow-blur":"0","input-hover-box-shadow-spread":"1","input-hover-box-shadow-color":"#85a2dd","input-active-box-shadow-x":"0","input-active-box-shadow-y":"0","input-active-box-shadow-blur":"0","input-active-box-shadow-spread":"1","input-active-box-shadow-color":"rgb(0, 94, 255)","input-border-radius":"4","input-line-padding-t":"0","input-line-padding-r":"28","input-line-padding-b":"0","input-line-padding-l":"8","input-bg-color":"rgba(255,255,255)","input-fo-color":"#606266","input-fo-size":"12","input-fo-weight":"600","input-line-height":"30","input-width":"200","input-text-alight":"start","input-icon-width":"12","input-icon-color":"#000","input-icon-hover-color":"#008cc8","input-placeholder-fo-color":"gray","popper-bg-color":"#fff","popper-height":"228","popper-border-radius":"8","popper-z-index":"999","popper-box-shadow-x":"0","popper-box-shadow-y":"0","popper-box-shadow-blur":"12","popper-box-shadow-spread":"0","popper-box-shadow-color":"rgba(0, 0, 0, 0.12)","popper-arrow-height":"5","popper-panel-padding-t":"8","popper-panel-padding-r":"4","popper-panel-padding-b":"0","popper-panel-padding-l":"4","popper-footer-height":"36","popper-footer-fo-size":"12","popper-footer-border-top-width":"1","popper-footer-border-top-style":"solid","popper-footer-border-top-color":"rgb(228, 231, 237)","popper-footer-cancel-fo-color":"#303133","popper-footer-ok-fo-color":"skyblue","popper-footer-ok-fo-weight":"800","popper-footer-ok-margin-t":"0","popper-footer-ok-margin-r":"5","popper-footer-ok-margin-b":"0","popper-footer-ok-margin-l":"5","popper-footer-ok-padding-t":"0","popper-footer-ok-padding-r":"5","popper-footer-ok-padding-b":"0","popper-footer-ok-padding-l":"5","popper-spinner-pitch-box-border-top-width":"1","popper-spinner-pitch-box-border-top-style":"solid","popper-spinner-pitch-box-border-top-color":"#e4e7ed","popper-spinner-pitch-box-border-bottom-width":"1","popper-spinner-pitch-box-border-bottom-style":"solid","popper-spinner-pitch-box-border-bottom-color":"#e4e7ed","popper-spinner-number-height":"32","popper-spinner-number-fo-color":"#606266","popper-spinner-number-fo-size":"12","popper-spinner-number-hover-bg-color":"#e0e0e0","popper-spinner-number-active-fo-color":"#000","popper-spinner-number-active-fo-weight":"700","popper-spinner-number-active-hover-bg-color":"rgba($color: #e0e0e0, $alpha: 0)","popper-spinner-number-disabled-fo-color":"rgb(223, 223, 223)","popper-spinner-number-disabled-hover-bg-color":"rgba($color: #e0e0e0, $alpha: 0)","scroll-bar-thumb-width":"8",scrollBarHeight:"60",scrollBarBgColor:"rgb(218, 218, 218)",scrollBarBgColorHover:"skyblue"})}},Q=Symbol("time-picker"),ee=function(o,r){for(let[p,s]of Object.entries(r.value))o.style.setProperty("--"+p,s)},z={mounted(o,r){ee(o,r)},updated(o,r){ee(o,r)},install(o){o.directive("Css",this)}},{n:pe,classes:de}=_("input-svg-icon"),me=e.defineComponent({name:"VIInputSvgIcon",emits:["click"],props:{path:{type:String,default:`M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 
            764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 
            45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z`},height:{type:[String,Number],default:"12px"},width:{type:[String,Number],default:"12px"},modelValue:{type:[String,Number,Boolean],default:""}},setup(o,r){const p=function(s){r.emit("click",s)};return()=>e.createVNode("svg",{class:[de(pe()),"icon"],height:o.height,width:o.width,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",onClick:p},[e.createVNode("path",{fill:"currentColor",d:o.path},null)])}}),te={modelValue:{type:[String,Number,Array],default:""},showPassword:{type:[String,Boolean],default:!1},disabled:{type:[String,Boolean],default:!1},readonly:{type:[String,Boolean],default:!1},clearable:{type:[String,Boolean],default:!1},placeholder:{type:String,default:"请选择您需要的内容o(*￣▽￣*)ブ"},dynamicCss:{type:Object,default:()=>({"input-box-shadow-x":"0","input-box-shadow-y":"0","input-box-shadow-blur":"0","input-box-shadow-spread":"1","input-box-shadow-color":"#dcdfe6","input-hover-box-shadow-x":"0","input-hover-box-shadow-y":"0","input-hover-box-shadow-blur":"0","input-hover-box-shadow-spread":"1","input-hover-box-shadow-color":"#85a2dd","input-active-box-shadow-x":"0","input-active-box-shadow-y":"0","input-active-box-shadow-blur":"0","input-active-box-shadow-spread":"1","input-active-box-shadow-color":"rgb(0, 94, 255)","input-border-radius":"4","input-line-padding-t":"0","input-line-padding-r":"28","input-line-padding-b":"0","input-line-padding-l":"8","input-bg-color":"rgba(255,255,255)","input-fo-color":"#606266","input-fo-size":"12","input-fo-weight":"600","input-line-height":"30","input-width":"200","input-text-alight":"start","input-icon-width":"12","input-icon-color":"#000","input-icon-hover-color":"#008cc8","input-placeholder-fo-color":"gray"})}},{n:oe,classes:he}=_("timePickerInput"),be=e.defineComponent({name:"VITimePickerInput",emits:["focus","blur","click","update:modelValue","close"],directives:{css:z},props:te,components:{"vi-input-svg-icon":me},setup(o,r){const p="M576 512l277.333333 277.333333-64 64-277.333333-277.333333L234.666667 853.333333 170.666667 789.333333l277.333333-277.333333L170.666667 234.666667 234.666667 170.666667l277.333333 277.333333L789.333333 170.666667 853.333333 234.666667 576 512z",s=e.reactive({softFocus:!1,isHover:!1}),c=function(h){g.value||r.emit("click",h)},b=function(h){g.value||(r.emit("update:modelValue",h.target.value),r.emit("close"),h.stopPropagation())},N=function(h){g.value||(r.emit("focus",h),s.softFocus=!0)},n=function(h){g.value||(r.emit("blur",h),s.softFocus=!1)},m=function(h){g.value||(s.isHover=!0)},y=function(h){g.value||(s.isHover=!1)},R=function(h){g.value||r.emit("update:modelValue",h.target.value)},i=function(h){g.value||r.emit("update:modelValue",h.target.value)},V=e.computed(()=>Object.assign(te.dynamicCss.default(),o.dynamicCss)),C=e.computed(()=>typeof o.readonly=="string"?!0:o.readonly),x=e.computed(()=>typeof o.clearable=="string"?!0:o.clearable),k=e.computed(()=>typeof o.showPassword=="string"?!0:o.showPassword),g=e.computed(()=>typeof o.disabled=="string"?!0:o.disabled),T=e.computed(()=>s.softFocus?"active":"");return()=>e.withDirectives(e.createVNode("div",{class:[he(oe()),T.value,g.value?"disabled":""],onClick:c,onMouseenter:m,onMouseleave:y},[e.createVNode("input",{class:[oe("_inner")],placeholder:o.placeholder,onFocus:N,onBlur:n,readonly:C.value||g.value,value:o.modelValue,onChange:R,onInput:i,type:k.value?"password":"text"},null),o.modelValue&&x.value&&s.isHover?e.createVNode(e.resolveComponent("vi-input-svg-icon"),{class:"icon",height:V.value["input-icon-width"],width:V.value["input-icon-width"],path:p,onClick:b},null):""]),[[e.resolveDirective("css"),V.value||{}]])}}),{n:$,classes:re}=_("popper"),fe=e.defineComponent({name:"VITimePickerPopper",emits:["focus","blur","click"],props:["active"],setup(o,r){let{timePickerRef:p}=e.inject(Q);const s=e.reactive({parentRect:{x:0,y:0,height:0,width:0},dropdownTop:"0"}),c=e.ref(null),b=e.ref(null),N=()=>{e.nextTick(()=>{s.parentRect=p.value.getBoundingClientRect(),s.dropdownTop=s.parentRect.height+10+"px"})};return e.onMounted(()=>N()),()=>{var n,m;return e.createVNode("div",{class:[$(""),o.active?"active":""],style:{top:s.dropdownTop}},[e.createVNode("div",{ref:c,class:[$("_arrow")]},[o.active]),e.createVNode("div",{ref:b,class:[re($("_content"))]},[e.createVNode("div",{class:[re($("_inner"))]},[(m=(n=r.slots).default)==null?void 0:m.call(n)])])])}}}),ne={height:{type:[String,Boolean],default:"300px"},width:{type:[String,Boolean],default:"auto"},thumbWidth:{type:String,default:"6px"},noResize:Boolean,dynamicCss:{type:Object,default:()=>({"thumb-bg-color":"#d9dfe3"})}};var W=(o=>(o.HORIZONTAL="horizontal",o.VERTICAL="vertical",o))(W||{});const ge={type:{type:[String||W],default:"vertical"},height:{type:String,default:"100px"},width:{type:String,default:"6px"},ratioX:{type:String,default:"0px"},ratioY:{type:String,default:"0px"}},ie=Symbol("scroll-bar"),{n:ve}=_("scroll-bar__thumb"),we=e.defineComponent({name:"ScrollBar",emits:["update:height","update:width"],props:ge,setup(o,r){const{thumbRatioY:p,thumbRatioX:s,thumbRatioYMaxRange:c,thumbRatioXMaxRange:b,wrapperInnerMaxiMoveProportionY:N,wrapperInnerMaxiMoveProportionX:n,scrollBarRef:m}=e.inject(ie),y=e.ref(),R=e.reactive({mouseMoving:!1});let i=0,V=0,C=0,x=0,k=0,g=0;const T=e.computed({get(){return o.height},set(v){r.emit&&r.emit("update:height",v)}}),h=e.computed({get(){return o.width},set(v){r.emit&&r.emit("update:width",v)}}),D=function(v){if(v=="vertical"){let f=0;const I=k;f=C<0?I+Math.abs(C):I-Math.abs(C),f<0&&(f=0),f>c.value&&(f=c.value),m.value.scrollTop=Math.abs(N.value*f)}else if(v=="horizontal"){let f=0;const I=g;f=x<0?I+Math.abs(x):I-Math.abs(x),f<0&&(f=0),f>b.value&&(f=b.value),m.value.scrollLeft=Math.abs(n.value*f)}},P=function(v){R.mouseMoving=!0,k=Number(p.value.slice(11,-3)),g=Number(s.value.slice(11,-3)),i=Number(v.clientY),V=Number(v.clientX)},Y=function(v){C=i-v.clientY,x=V-v.clientX,D(o.type)};document.addEventListener("mouseup",()=>{document.removeEventListener("mousemove",Y),document.removeEventListener("mousedown",P),i=0,V=0,C=0,x=0,k=0,g=0,R.mouseMoving=!1});const L=v=>{document.addEventListener("mousedown",P),document.addEventListener("mousemove",Y)};return()=>e.createVNode("div",{class:ve(),ref:y,style:{height:T.value,width:h.value,transform:o.type=="vertical"?o.ratioY:o.ratioX},onMousedown:L},null)}}),{n:A}=_("scroll-bar"),Re=q(e.defineComponent({name:"ScrollBar",emits:["update:width","scroll"],directives:{css:z},props:ne,components:{"scroll-bar-thumb":we},setup(o,r){let p=null;const s=l=>{I()},c=e.ref(),b=e.ref(),N=e.ref(),n=e.reactive({wrapperInnerRealHeight:0,wrapperInnerRealWidth:0,wrapperInnerMaxiMoveRangeY:0,wrapperInnerMaxiMoveRangeX:0,wrapperInnerMaxiMoveProportionY:0,wrapperInnerMaxiMoveProportionX:0,thumbHeightProportion:0,thumbWidthProportion:0,thumbHeight:"",thumbWidth:"",thumbRatioX:"",thumbRatioY:"",thumbRatioYMaxRange:0,thumbRatioXMaxRange:0,thumbRatioYProportion:0,thumbRatioXProportion:0,cacheContainerWidth:""});let m=e.ref(!1);e.watch(()=>o.noResize,l=>{l?p==null||p.disconnect():(p=new MutationObserver(s),e.nextTick(()=>{p.observe(b.value,{attributes:!0,childList:!0,subtree:!0})}))},{immediate:!0});const y=e.computed(()=>Object.assign(ne.dynamicCss.default(),o.dynamicCss)),R=e.computed(()=>o.height),i=e.computed({get(){return n.cacheContainerWidth},set(l){n.cacheContainerWidth=l}}),V=e.computed({get(){return n.thumbHeight},set(l){n.thumbHeight=l}}),C=e.computed({get(){return n.thumbWidth},set(l){n.thumbWidth=l}}),x=e.computed({get(){return n.thumbRatioX},set(l){n.thumbRatioX=l}}),k=e.computed({get(){return n.thumbRatioY},set(l){n.thumbRatioY=l}}),g=e.computed(()=>n.thumbRatioYMaxRange),T=e.computed(()=>n.thumbRatioXMaxRange),h=e.computed(()=>n.wrapperInnerMaxiMoveProportionY),D=e.computed(()=>n.wrapperInnerMaxiMoveProportionX),P=l=>{n.thumbRatioY=`translateY(${String(n.thumbRatioYProportion*l)+"px"})`},Y=l=>{n.thumbRatioX=`translateX(${String(n.thumbRatioXProportion*l)+"px"})`},L=l=>{c.value.scrollTop=l},v=l=>{c.value.scrollLeft=l},f=(l,S)=>{L(l),v(S)},I=l=>{var S,d;n.wrapperInnerRealHeight=Number((S=b.value)==null?void 0:S.scrollHeight),n.wrapperInnerRealWidth=Number((d=b.value)==null?void 0:d.scrollWidth),n.wrapperInnerMaxiMoveRangeY=n.wrapperInnerRealHeight-Number(R.value.replace("px","")),n.wrapperInnerMaxiMoveRangeX=n.wrapperInnerRealWidth-Number(i.value.replace("px","")),n.thumbHeightProportion=Number(R.value.replace("px",""))/n.wrapperInnerRealHeight,n.thumbWidthProportion=Number(i.value.replace("px",""))/n.wrapperInnerRealWidth,n.thumbHeight=String(n.thumbHeightProportion*Number(R.value.replace("px","")))+"px",n.thumbWidth=String(n.thumbWidthProportion*Number(i.value.replace("px","")))+"px",n.thumbRatioYMaxRange=Number(R.value.replace("px",""))-Number(n.thumbHeight.replace("px","")),n.thumbRatioXMaxRange=Number(i.value.replace("px",""))-Number(n.thumbWidth.replace("px","")),n.thumbRatioYProportion=n.thumbRatioYMaxRange/n.wrapperInnerMaxiMoveRangeY,n.thumbRatioXProportion=n.thumbRatioXMaxRange/n.wrapperInnerMaxiMoveRangeX,n.wrapperInnerMaxiMoveProportionY=n.wrapperInnerMaxiMoveRangeY/n.thumbRatioYMaxRange,n.wrapperInnerMaxiMoveProportionX=n.wrapperInnerMaxiMoveRangeX/n.thumbRatioXMaxRange};e.onMounted(()=>{n.cacheContainerWidth=o.width,I()});const j=l=>{const S=l.target.scrollTop,d=l.target.scrollLeft;P(S),Y(d),r.emit&&r.emit("scroll",d,S)},F=()=>{m.value=!0},K=()=>{m.value=!1};e.provide(ie,{height:R,thumbRatioY:k,thumbRatioX:x,thumbRatioYMaxRange:g,thumbRatioXMaxRange:T,wrapperInnerMaxiMoveProportionY:h,wrapperInnerMaxiMoveProportionX:D,scrollBarRef:c}),r.expose({setScrollTop:L,setScrollLeft:v,setScrollTo:f});const E=(l=W.VERTICAL)=>{if(o.width===!1||o.height===!1)return"";const S=n.wrapperInnerRealHeight,d=Number(o.height.replace("px","")),U=n.wrapperInnerRealWidth;if(l=="vertical")return d<S?e.createVNode(e.resolveComponent("scroll-bar-thumb"),{ref:N,type:l,height:V.value,width:o.thumbWidth,ratioX:x.value,ratioY:k.value,class:m.value?"show":"hide"},null):"";if(l=="horizontal"){let X=Number(i.value.replace("px",""));if(i.value=="auto"){const O=()=>{i.value="auto",e.nextTick(()=>{var H;X=Number((H=b.value)==null?void 0:H.clientWidth),i.value=X+"px",I()})};O(),window.onresize=()=>O()}else if(i.value)return X<U?e.createVNode(e.resolveComponent("scroll-bar-thumb"),{ref:N,type:l,height:o.thumbWidth,width:C.value,ratioX:x.value,ratioY:k.value,class:m.value?"show":"hide"},null):""}};return()=>{var l,S;return e.withDirectives(e.createVNode("div",{class:A(),style:{width:i.value},onMouseenter:F,onMouseleave:K},[e.createVNode("div",{class:A("_wrapper"),ref:c,style:{height:R.value,width:i.value},onScroll:j},[e.createVNode("div",{class:A("_view"),ref:b},[(S=(l=r.slots).default)==null?void 0:S.call(l)])]),e.createVNode("div",{class:[A("_bar"),"horizontal"]},[E(W.HORIZONTAL)]),e.createVNode("div",{class:[A("_bar"),"vertical"]},[E(W.VERTICAL)])]),[[e.resolveDirective("css"),y.value||{}]])}}}),"scroll-bar"),{n:Me,classes:Se}=_("time-picker"),ae=q(e.defineComponent({name:"VITimePicker",emits:["click","inputClick","closeClick","cancelClick","okClick","update:modelValue","focus","blur"],directives:{css:z},props:G,components:{"vi-time-picker-input":be,"vi-time-picker-popper":fe,"vi-scroll-bar":Re},setup(o,r){const p=[null,null,null];let s="";const c=t=>t<10?"0"+t:t+"",b=t=>{const a=t.match(/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/);return a||console.warn("初始化数据格式不符合规范,已被清空！"),a},N=()=>"xxxxxxxx".replace(/[xy]/g,function(t){var a=0|16*Math.random(),u=t=="x"?a:8|3&a;return u.toString(16)}),n=e.ref();let m=e.ref(),y=e.ref(),R=e.ref();const i=e.reactive({uuid:N(),popperVisible:!1,softFocus:!1,isSubmit:!1,hourList:[],minuteList:[],secondList:[],currentSelect:["","",""]}),V=function(){i.popperVisible=!1,i.softFocus=!1},C=function(t){let a=!1;const u=t.path||t.composedPath&&t.composedPath();for(let M=0;M<u.length;M++){const w=u[M];if(w.classList&&w.classList.value&&w.getAttribute("class").includes("-time-picker")&&w.dataset.id==i.uuid){a=!0;break}}a||(V(),i.isSubmit=!0)};document.addEventListener("mousedown",C);const x=function(t){r.emit&&r.emit("focus")},k=function(t){r.emit&&r.emit("blur")},g=function(){r.emit&&r.emit("click")},T=function(t){i.popperVisible=!i.popperVisible,i.isSubmit=!1,o.modelValue||l(),r.emit&&r.emit("inputClick")},h=function(){i.popperVisible=!1,r.emit&&r.emit("closeClick")},D=function(t){const{type:a}=t.target.dataset;i.popperVisible=!1,a=="cancel"?(i.isSubmit=!1,r.emit&&r.emit("update:modelValue",s),r.emit&&r.emit("cancelClick"),E()):a=="ok"&&(i.isSubmit=!0,r.emit&&r.emit("okClick",i.currentSelect))},P=function(t,a){const u={index:{hour:"0",minute:"1",second:"2"},ref:{hour:m,minute:y,second:R}},{num:M,disabled:w}=a.dataset;if(M){if(w=="true")return;i.currentSelect[u.index[t]]=M;const J=Number(i.currentSelect[u.index[t]])*Number(d.value["popper-spinner-number-height"]);u.ref[t].value.setScrollTop(J)}},Y=function(t){P("hour",t.target)},L=function(t){P("minute",t.target)},v=function(t){P("second",t.target)},f=function(t,a){const u={timers:{hour:0,minute:1,second:2},ableRange:{hour:"disabledHours",minute:"disabledMinutes",second:"disabledSeconds"}};let w=Math.round(t/Number(d.value["popper-spinner-number-height"]));if(o[u.ableRange[a]].filter(xe=>xe==w).length>0)return;i.currentSelect[u.timers[a]]=c(w);let Z=w*Number(d.value["popper-spinner-number-height"]);p[u.timers[a]]&&(clearTimeout(p[u.timers[a]]),p[u.timers[a]]=null),p[u.timers[a]]=setTimeout(()=>{a=="hour"&&m.value.setScrollTop(Z),a=="minute"&&y.value.setScrollTop(Z),a=="second"&&R.value.setScrollTop(Z)},200)},I=function(t,a){f(a,"hour")},j=function(t,a){f(a,"minute")},F=function(t,a){f(a,"second")},K=()=>{i.hourList=new Array(24).fill(0).map((t,a)=>a<10?"0"+a:a+""),i.minuteList=new Array(60).fill(0).map((t,a)=>a<10?"0"+a:a+""),i.secondList=new Array(60).fill(0).map((t,a)=>a<10?"0"+a:a+"")},E=function(){s&&(m.value.setScrollTop(Number(s.slice(0,2))*Number(d.value["popper-spinner-number-height"])),y.value.setScrollTop(Number(s.slice(3,5))*Number(d.value["popper-spinner-number-height"])),R.value.setScrollTop(Number(s.slice(6,8))*Number(d.value["popper-spinner-number-height"])))},l=()=>{const t=new Date,a=t.getHours(),u=t.getMinutes(),M=t.getSeconds();i.currentSelect[0]=c(a),i.currentSelect[1]=c(u),i.currentSelect[2]=c(M),m.value.setScrollTop(Number(i.currentSelect[0])*Number(d.value["popper-spinner-number-height"])),y.value.setScrollTop(Number(i.currentSelect[1])*Number(d.value["popper-spinner-number-height"])),R.value.setScrollTop(Number(i.currentSelect[2])*Number(d.value["popper-spinner-number-height"])),r.emit&&r.emit("update:modelValue",i.currentSelect[0]+":"+i.currentSelect[1]+":"+i.currentSelect[2])},S=function(){if(o.modelValue&&b(o.modelValue)){const t=o.modelValue.split(":"),a=o.disabledHours.findIndex(w=>w==t[0])!=-1,u=o.disabledMinutes.findIndex(w=>w==t[1])!=-1,M=o.disabledSeconds.findIndex(w=>w==t[2])!=-1;if(a||u||M)return console.warn("输入的值包含禁用项,已被清空"),r.emit&&r.emit("update:modelValue",""),!0}return!1};e.onBeforeMount(()=>{if(o.modelValue&&b(o.modelValue)&&!S()){const t=o.modelValue.split(":");i.currentSelect[0]=t[0],i.currentSelect[1]=t[1],i.currentSelect[2]=t[2],s=o.modelValue}}),e.onMounted(()=>{K(),e.nextTick(()=>{E()})});const d=e.computed(()=>Object.assign(G.dynamicCss.default(),o.dynamicCss)),U=e.computed(()=>{const t={};for(const a in d.value)a.includes("input")&&(t[a]=d.value[a]);return t}),X=e.computed({get(){return S(),o.modelValue},set(t){r.emit&&r.emit("update:modelValue",t)}}),O=e.computed(()=>o.clearable),H=function(t,a){const u={hour:"disabledHours",minute:"disabledMinutes",second:"disabledSeconds"};let M=!1;return o[u[t]].forEach(w=>w==a?M=!0:""),M},le=e.computed(()=>function(t){return H("hour",t)}),se=e.computed(()=>function(t){return H("minute",t)}),ce=e.computed(()=>function(t){return H("second",t)});return e.watchEffect(()=>{const t=i.currentSelect[0],a=i.currentSelect[1],u=i.currentSelect[2];if(!t&&!a&&!u){r.emit&&r.emit("update:modelValue","");return}const M=t+":"+a+":"+u;r.emit&&r.emit("update:modelValue",M)}),e.watchEffect(()=>{i.isSubmit&&(s=o.modelValue,r.emit&&r.emit("update:modelValue",s))}),e.provide(Q,{timePickerRef:n}),()=>e.withDirectives(e.createVNode("div",{ref:n,"data-id":i.uuid,class:[Se(Me())],onClick:g},[e.createVNode(e.resolveComponent("vi-time-picker-input"),{placeholder:o.placeholder,modelValue:X.value,"onUpdate:modelValue":t=>X.value=t,onFocus:x,onBlur:k,onClose:h,dynamicCss:U.value||{},clearable:O.value,readonly:!0,onClick:T},null),e.createVNode(e.resolveComponent("vi-time-picker-popper"),{active:i.popperVisible},{default:()=>[e.createVNode("div",{class:"time-panel"},[e.createVNode("div",{class:"time-panel__content"},[e.createVNode(e.resolveComponent("vi-scroll-bar"),{ref:m,class:"time-panel__spinner time-panel__popper-spinner--hour",onScroll:I,height:Number(d.value["popper-spinner-number-height"])*6+"px"},{default:()=>[e.createVNode("ul",{onClick:Y},[i.hourList.map(t=>e.createVNode("li",{"data-num":t,"data-disabled":le.value(Number(t)),class:[i.currentSelect[0]==t?"active":"",le.value(Number(t))?"disabled":""]},[t]))])]}),e.createVNode(e.resolveComponent("vi-scroll-bar"),{ref:y,class:"time-panel__spinner time-panel__popper-spinner--minutes",onScroll:j,height:Number(d.value["popper-spinner-number-height"])*6+"px"},{default:()=>[e.createVNode("ul",{onClick:L},[i.minuteList.map(t=>e.createVNode("li",{"data-num":t,"data-disabled":se.value(Number(t)),class:[i.currentSelect[1]==t?"active":"",se.value(Number(t))?"disabled":""]},[t]))])]}),e.createVNode(e.resolveComponent("vi-scroll-bar"),{ref:R,class:"time-panel__spinner time-panel__popper-spinner--second",onScroll:F,height:Number(d.value["popper-spinner-number-height"])*6+"px"},{default:()=>[e.createVNode("ul",{onClick:v},[i.secondList.map(t=>e.createVNode("li",{"data-num":t,"data-disabled":ce.value(Number(t)),class:[i.currentSelect[2]==t?"active":"",ce.value(Number(t))?"disabled":""]},[t]))])]})]),e.createVNode("div",{class:"time-panel__footer",onClick:D},[e.createVNode("div",{"data-type":"cancel",class:"time-panel__footer_cancel"},[e.createTextVNode("取消")]),e.createVNode("div",{"data-type":"ok",class:"time-panel__footer_ok"},[e.createTextVNode("确认")])])])]})]),[[e.resolveDirective("css"),d.value||{}]])}}),"time-picker");B.TimePicker=ae,B.default=ae,Object.defineProperties(B,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
