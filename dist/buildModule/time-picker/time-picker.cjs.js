"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),ie=(o,r)=>(o.install=function(p){if(o){const u=o.name||o.__name;if(u||r){const s=r?`dw-${r}`:"dw-"+u.replace(/dw/gi,"").toLowerCase();p.component(s,o)}else console.error(o,r,!r)}},o),ce=o=>Array.isArray(o);function X(o){const r=`vi-${o}`;return{n:s=>s?s.startsWith("-")?`${r}${s}`:`${r}_${s}`:r,classes:(...s)=>s.map(b=>{if(ce(b)){const[N,n,m=null]=b;return N?n:m}return b})}}const Q={clearable:{type:[String,Boolean],default:!1},isRange:{type:[String,Boolean],default:!1},disabledHours:{type:Array,default:[]},disabledMinutes:{type:Array,default:[]},disabledSeconds:{type:Array,default:[]},arrowControl:{type:[String,Boolean],default:""},placeholder:{type:String,default:"Arbitrary time"},startPlaceholder:String,endPlaceholder:String,modelValue:{type:[String,Number,Boolean],default:""},dynamicCss:{type:Object,default:()=>({"input-box-shadow-x":"0","input-box-shadow-y":"0","input-box-shadow-blur":"0","input-box-shadow-spread":"1","input-box-shadow-color":"#dcdfe6","input-hover-box-shadow-x":"0","input-hover-box-shadow-y":"0","input-hover-box-shadow-blur":"0","input-hover-box-shadow-spread":"1","input-hover-box-shadow-color":"#85a2dd","input-active-box-shadow-x":"0","input-active-box-shadow-y":"0","input-active-box-shadow-blur":"0","input-active-box-shadow-spread":"1","input-active-box-shadow-color":"rgb(0, 94, 255)","input-border-radius":"4","input-line-padding-t":"0","input-line-padding-r":"28","input-line-padding-b":"0","input-line-padding-l":"8","input-bg-color":"rgba(255,255,255)","input-fo-color":"#606266","input-fo-size":"12","input-fo-weight":"600","input-line-height":"30","input-width":"200","input-text-alight":"start","input-icon-width":"12","input-icon-color":"#000","input-icon-hover-color":"#008cc8","input-placeholder-fo-color":"gray","popper-bg-color":"#fff","popper-height":"228","popper-border-radius":"8","popper-z-index":"999","popper-box-shadow-x":"0","popper-box-shadow-y":"0","popper-box-shadow-blur":"12","popper-box-shadow-spread":"0","popper-box-shadow-color":"rgba(0, 0, 0, 0.12)","popper-arrow-height":"5","popper-panel-padding-t":"8","popper-panel-padding-r":"4","popper-panel-padding-b":"0","popper-panel-padding-l":"4","popper-footer-height":"36","popper-footer-fo-size":"12","popper-footer-border-top-width":"1","popper-footer-border-top-style":"solid","popper-footer-border-top-color":"rgb(228, 231, 237)","popper-footer-cancel-fo-color":"#303133","popper-footer-ok-fo-color":"skyblue","popper-footer-ok-fo-weight":"800","popper-footer-ok-margin-t":"0","popper-footer-ok-margin-r":"5","popper-footer-ok-margin-b":"0","popper-footer-ok-margin-l":"5","popper-footer-ok-padding-t":"0","popper-footer-ok-padding-r":"5","popper-footer-ok-padding-b":"0","popper-footer-ok-padding-l":"5","popper-spinner-pitch-box-border-top-width":"1","popper-spinner-pitch-box-border-top-style":"solid","popper-spinner-pitch-box-border-top-color":"#e4e7ed","popper-spinner-pitch-box-border-bottom-width":"1","popper-spinner-pitch-box-border-bottom-style":"solid","popper-spinner-pitch-box-border-bottom-color":"#e4e7ed","popper-spinner-number-height":"32","popper-spinner-number-fo-color":"#606266","popper-spinner-number-fo-size":"12","popper-spinner-number-hover-bg-color":"#e0e0e0","popper-spinner-number-active-fo-color":"#000","popper-spinner-number-active-fo-weight":"700","popper-spinner-number-active-hover-bg-color":"rgba($color: #e0e0e0, $alpha: 0)","popper-spinner-number-disabled-fo-color":"rgb(223, 223, 223)","popper-spinner-number-disabled-hover-bg-color":"rgba($color: #e0e0e0, $alpha: 0)","scroll-bar-thumb-width":"8",scrollBarHeight:"60",scrollBarBgColor:"rgb(218, 218, 218)",scrollBarBgColorHover:"skyblue"})}},ae=Symbol("time-picker"),ee=function(o,r){for(let[p,u]of Object.entries(r.value))o.style.setProperty("--"+p,u)},J={mounted(o,r){ee(o,r)},updated(o,r){ee(o,r)},install(o){o.directive("Css",this)}},{n:pe,classes:de}=X("input-svg-icon"),me=e.defineComponent({name:"VIInputSvgIcon",emits:["click"],props:{path:{type:String,default:`M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 
            764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 
            45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z`},height:{type:[String,Number],default:"12px"},width:{type:[String,Number],default:"12px"},modelValue:{type:[String,Number,Boolean],default:""}},setup(o,r){const p=function(u){r.emit("click",u)};return()=>e.createVNode("svg",{class:[de(pe()),"icon"],height:o.height,width:o.width,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",onClick:p},[e.createVNode("path",{fill:"currentColor",d:o.path},null)])}}),te={modelValue:{type:[String,Number,Array],default:""},showPassword:{type:[String,Boolean],default:!1},disabled:{type:[String,Boolean],default:!1},readonly:{type:[String,Boolean],default:!1},clearable:{type:[String,Boolean],default:!1},placeholder:{type:String,default:"请选择您需要的内容o(*￣▽￣*)ブ"},dynamicCss:{type:Object,default:()=>({"input-box-shadow-x":"0","input-box-shadow-y":"0","input-box-shadow-blur":"0","input-box-shadow-spread":"1","input-box-shadow-color":"#dcdfe6","input-hover-box-shadow-x":"0","input-hover-box-shadow-y":"0","input-hover-box-shadow-blur":"0","input-hover-box-shadow-spread":"1","input-hover-box-shadow-color":"#85a2dd","input-active-box-shadow-x":"0","input-active-box-shadow-y":"0","input-active-box-shadow-blur":"0","input-active-box-shadow-spread":"1","input-active-box-shadow-color":"rgb(0, 94, 255)","input-border-radius":"4","input-line-padding-t":"0","input-line-padding-r":"28","input-line-padding-b":"0","input-line-padding-l":"8","input-bg-color":"rgba(255,255,255)","input-fo-color":"#606266","input-fo-size":"12","input-fo-weight":"600","input-line-height":"30","input-width":"200","input-text-alight":"start","input-icon-width":"12","input-icon-color":"#000","input-icon-hover-color":"#008cc8","input-placeholder-fo-color":"gray"})}},{n:oe,classes:he}=X("timePickerInput"),be=e.defineComponent({name:"VITimePickerInput",emits:["focus","blur","click","update:modelValue","close"],directives:{css:J},props:te,components:{"vi-input-svg-icon":me},setup(o,r){const p="M576 512l277.333333 277.333333-64 64-277.333333-277.333333L234.666667 853.333333 170.666667 789.333333l277.333333-277.333333L170.666667 234.666667 234.666667 170.666667l277.333333 277.333333L789.333333 170.666667 853.333333 234.666667 576 512z",u=e.reactive({softFocus:!1,isHover:!1}),s=function(h){v.value||r.emit("click",h)},b=function(h){v.value||(r.emit("update:modelValue",h.target.value),r.emit("close"),h.stopPropagation())},N=function(h){v.value||(r.emit("focus",h),u.softFocus=!0)},n=function(h){v.value||(r.emit("blur",h),u.softFocus=!1)},m=function(h){v.value||(u.isHover=!0)},y=function(h){v.value||(u.isHover=!1)},R=function(h){v.value||r.emit("update:modelValue",h.target.value)},i=function(h){v.value||r.emit("update:modelValue",h.target.value)},V=e.computed(()=>Object.assign(te.dynamicCss.default(),o.dynamicCss)),C=e.computed(()=>typeof o.readonly=="string"?!0:o.readonly),x=e.computed(()=>typeof o.clearable=="string"?!0:o.clearable),k=e.computed(()=>typeof o.showPassword=="string"?!0:o.showPassword),v=e.computed(()=>typeof o.disabled=="string"?!0:o.disabled),P=e.computed(()=>u.softFocus?"active":"");return()=>e.withDirectives(e.createVNode("div",{class:[he(oe()),P.value,v.value?"disabled":""],onClick:s,onMouseenter:m,onMouseleave:y},[e.createVNode("input",{class:[oe("_inner")],placeholder:o.placeholder,onFocus:N,onBlur:n,readonly:C.value||v.value,value:o.modelValue,onChange:R,onInput:i,type:k.value?"password":"text"},null),o.modelValue&&x.value&&u.isHover?e.createVNode(e.resolveComponent("vi-input-svg-icon"),{class:"icon",height:V.value["input-icon-width"],width:V.value["input-icon-width"],path:p,onClick:b},null):""]),[[e.resolveDirective("css"),V.value||{}]])}}),{n:$,classes:re}=X("popper"),fe=e.defineComponent({name:"VITimePickerPopper",emits:["focus","blur","click"],props:["active"],setup(o,r){let{timePickerRef:p}=e.inject(ae);const u=e.reactive({parentRect:{x:0,y:0,height:0,width:0},dropdownTop:"0"}),s=e.ref(null),b=e.ref(null),N=()=>{e.nextTick(()=>{u.parentRect=p.value.getBoundingClientRect(),u.dropdownTop=u.parentRect.height+10+"px"})};return e.onMounted(()=>N()),()=>{var n,m;return e.createVNode("div",{class:[$(""),o.active?"active":""],style:{top:u.dropdownTop}},[e.createVNode("div",{ref:s,class:[$("_arrow")]},[o.active]),e.createVNode("div",{ref:b,class:[re($("_content"))]},[e.createVNode("div",{class:[re($("_inner"))]},[(m=(n=r.slots).default)==null?void 0:m.call(n)])])])}}}),ne={height:{type:[String,Boolean],default:"300px"},width:{type:[String,Boolean],default:"auto"},thumbWidth:{type:String,default:"6px"},noResize:Boolean,dynamicCss:{type:Object,default:()=>({"thumb-bg-color":"#d9dfe3"})}};var D=(o=>(o.HORIZONTAL="horizontal",o.VERTICAL="vertical",o))(D||{});const ve={type:{type:[String||D],default:"vertical"},height:{type:String,default:"100px"},width:{type:String,default:"6px"},ratioX:{type:String,default:"0px"},ratioY:{type:String,default:"0px"}},le=Symbol("scroll-bar"),{n:ge}=X("scroll-bar__thumb"),we=e.defineComponent({name:"ScrollBar",emits:["update:height","update:width"],props:ve,setup(o,r){const{thumbRatioY:p,thumbRatioX:u,thumbRatioYMaxRange:s,thumbRatioXMaxRange:b,wrapperInnerMaxiMoveProportionY:N,wrapperInnerMaxiMoveProportionX:n,scrollBarRef:m}=e.inject(le),y=e.ref(),R=e.reactive({mouseMoving:!1});let i=0,V=0,C=0,x=0,k=0,v=0;const P=e.computed({get(){return o.height},set(g){r.emit&&r.emit("update:height",g)}}),h=e.computed({get(){return o.width},set(g){r.emit&&r.emit("update:width",g)}}),H=function(g){if(g=="vertical"){let f=0;const I=k;f=C<0?I+Math.abs(C):I-Math.abs(C),f<0&&(f=0),f>s.value&&(f=s.value),m.value.scrollTop=Math.abs(N.value*f)}else if(g=="horizontal"){let f=0;const I=v;f=x<0?I+Math.abs(x):I-Math.abs(x),f<0&&(f=0),f>b.value&&(f=b.value),m.value.scrollLeft=Math.abs(n.value*f)}},B=function(g){R.mouseMoving=!0,k=Number(p.value.slice(11,-3)),v=Number(u.value.slice(11,-3)),i=Number(g.clientY),V=Number(g.clientX)},T=function(g){C=i-g.clientY,x=V-g.clientX,H(o.type)};document.addEventListener("mouseup",()=>{document.removeEventListener("mousemove",T),document.removeEventListener("mousedown",B),i=0,V=0,C=0,x=0,k=0,v=0,R.mouseMoving=!1});const _=g=>{document.addEventListener("mousedown",B),document.addEventListener("mousemove",T)};return()=>e.createVNode("div",{class:ge(),ref:y,style:{height:P.value,width:h.value,transform:o.type=="vertical"?o.ratioY:o.ratioX},onMousedown:_},null)}}),{n:A}=X("scroll-bar"),Re=e.defineComponent({name:"ScrollBar",emits:["update:width","scroll"],directives:{css:J},props:ne,components:{"scroll-bar-thumb":we},setup(o,r){let p=null;const u=l=>{I()},s=e.ref(),b=e.ref(),N=e.ref(),n=e.reactive({wrapperInnerRealHeight:0,wrapperInnerRealWidth:0,wrapperInnerMaxiMoveRangeY:0,wrapperInnerMaxiMoveRangeX:0,wrapperInnerMaxiMoveProportionY:0,wrapperInnerMaxiMoveProportionX:0,thumbHeightProportion:0,thumbWidthProportion:0,thumbHeight:"",thumbWidth:"",thumbRatioX:"",thumbRatioY:"",thumbRatioYMaxRange:0,thumbRatioXMaxRange:0,thumbRatioYProportion:0,thumbRatioXProportion:0,cacheContainerWidth:""});let m=e.ref(!1);e.watch(()=>o.noResize,l=>{l?p==null||p.disconnect():(p=new MutationObserver(u),e.nextTick(()=>{p.observe(b.value,{attributes:!0,childList:!0,subtree:!0})}))},{immediate:!0});const y=e.computed(()=>Object.assign(ne.dynamicCss.default(),o.dynamicCss)),R=e.computed(()=>o.height),i=e.computed({get(){return n.cacheContainerWidth},set(l){n.cacheContainerWidth=l}}),V=e.computed({get(){return n.thumbHeight},set(l){n.thumbHeight=l}}),C=e.computed({get(){return n.thumbWidth},set(l){n.thumbWidth=l}}),x=e.computed({get(){return n.thumbRatioX},set(l){n.thumbRatioX=l}}),k=e.computed({get(){return n.thumbRatioY},set(l){n.thumbRatioY=l}}),v=e.computed(()=>n.thumbRatioYMaxRange),P=e.computed(()=>n.thumbRatioXMaxRange),h=e.computed(()=>n.wrapperInnerMaxiMoveProportionY),H=e.computed(()=>n.wrapperInnerMaxiMoveProportionX),B=l=>{n.thumbRatioY=`translateY(${String(n.thumbRatioYProportion*l)+"px"})`},T=l=>{n.thumbRatioX=`translateX(${String(n.thumbRatioXProportion*l)+"px"})`},_=l=>{s.value.scrollTop=l},g=l=>{s.value.scrollLeft=l},f=(l,S)=>{_(l),g(S)},I=l=>{var S,d;n.wrapperInnerRealHeight=Number((S=b.value)==null?void 0:S.scrollHeight),n.wrapperInnerRealWidth=Number((d=b.value)==null?void 0:d.scrollWidth),n.wrapperInnerMaxiMoveRangeY=n.wrapperInnerRealHeight-Number(R.value.replace("px","")),n.wrapperInnerMaxiMoveRangeX=n.wrapperInnerRealWidth-Number(i.value.replace("px","")),n.thumbHeightProportion=Number(R.value.replace("px",""))/n.wrapperInnerRealHeight,n.thumbWidthProportion=Number(i.value.replace("px",""))/n.wrapperInnerRealWidth,n.thumbHeight=String(n.thumbHeightProportion*Number(R.value.replace("px","")))+"px",n.thumbWidth=String(n.thumbWidthProportion*Number(i.value.replace("px","")))+"px",n.thumbRatioYMaxRange=Number(R.value.replace("px",""))-Number(n.thumbHeight.replace("px","")),n.thumbRatioXMaxRange=Number(i.value.replace("px",""))-Number(n.thumbWidth.replace("px","")),n.thumbRatioYProportion=n.thumbRatioYMaxRange/n.wrapperInnerMaxiMoveRangeY,n.thumbRatioXProportion=n.thumbRatioXMaxRange/n.wrapperInnerMaxiMoveRangeX,n.wrapperInnerMaxiMoveProportionY=n.wrapperInnerMaxiMoveRangeY/n.thumbRatioYMaxRange,n.wrapperInnerMaxiMoveProportionX=n.wrapperInnerMaxiMoveRangeX/n.thumbRatioXMaxRange};e.onMounted(()=>{n.cacheContainerWidth=o.width,I()});const O=l=>{const S=l.target.scrollTop,d=l.target.scrollLeft;B(S),T(d),r.emit&&r.emit("scroll",d,S)},z=()=>{m.value=!0},F=()=>{m.value=!1};e.provide(le,{height:R,thumbRatioY:k,thumbRatioX:x,thumbRatioYMaxRange:v,thumbRatioXMaxRange:P,wrapperInnerMaxiMoveProportionY:h,wrapperInnerMaxiMoveProportionX:H,scrollBarRef:s}),r.expose({setScrollTop:_,setScrollLeft:g,setScrollTo:f});const W=(l=D.VERTICAL)=>{if(o.width===!1||o.height===!1)return"";const S=n.wrapperInnerRealHeight,d=Number(o.height.replace("px","")),j=n.wrapperInnerRealWidth;if(l=="vertical")return d<S?e.createVNode(e.resolveComponent("scroll-bar-thumb"),{ref:N,type:l,height:V.value,width:o.thumbWidth,ratioX:x.value,ratioY:k.value,class:m.value?"show":"hide"},null):"";if(l=="horizontal"){let Y=Number(i.value.replace("px",""));if(i.value=="auto"){const E=()=>{i.value="auto",e.nextTick(()=>{var L;Y=Number((L=b.value)==null?void 0:L.clientWidth),i.value=Y+"px",I()})};E(),window.onresize=()=>E()}else if(i.value)return Y<j?e.createVNode(e.resolveComponent("scroll-bar-thumb"),{ref:N,type:l,height:o.thumbWidth,width:C.value,ratioX:x.value,ratioY:k.value,class:m.value?"show":"hide"},null):""}};return()=>{var l,S;return e.withDirectives(e.createVNode("div",{class:A(),style:{width:i.value},onMouseenter:z,onMouseleave:F},[e.createVNode("div",{class:A("_wrapper"),ref:s,style:{height:R.value,width:i.value},onScroll:O},[e.createVNode("div",{class:A("_view"),ref:b},[(S=(l=r.slots).default)==null?void 0:S.call(l)])]),e.createVNode("div",{class:[A("_bar"),"horizontal"]},[W(D.HORIZONTAL)]),e.createVNode("div",{class:[A("_bar"),"vertical"]},[W(D.VERTICAL)])]),[[e.resolveDirective("css"),y.value||{}]])}}}),Me=ie(Re,"scroll-bar"),{n:Se,classes:xe}=X("time-picker"),Ne=e.defineComponent({name:"VITimePicker",emits:["click","inputClick","closeClick","cancelClick","okClick","update:modelValue","focus","blur"],directives:{css:J},props:Q,components:{"vi-time-picker-input":be,"vi-time-picker-popper":fe,"vi-scroll-bar":Me},setup(o,r){const p=[null,null,null];let u="";const s=t=>t<10?"0"+t:t+"",b=t=>{const a=t.match(/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/);return a||console.warn("初始化数据格式不符合规范,已被清空！"),a},N=()=>"xxxxxxxx".replace(/[xy]/g,function(t){var a=0|16*Math.random(),c=t=="x"?a:8|3&a;return c.toString(16)}),n=e.ref();let m=e.ref(),y=e.ref(),R=e.ref();const i=e.reactive({uuid:N(),popperVisible:!1,softFocus:!1,isSubmit:!1,hourList:[],minuteList:[],secondList:[],currentSelect:["","",""]}),V=function(){i.popperVisible=!1,i.softFocus=!1},C=function(t){let a=!1;const c=t.path||t.composedPath&&t.composedPath();for(let M=0;M<c.length;M++){const w=c[M];if(w.classList&&w.classList.value&&w.getAttribute("class").includes("-time-picker")&&w.dataset.id==i.uuid){a=!0;break}}a||(V(),i.isSubmit=!0)};document.addEventListener("mousedown",C);const x=function(t){r.emit&&r.emit("focus")},k=function(t){r.emit&&r.emit("blur")},v=function(){r.emit&&r.emit("click")},P=function(t){i.popperVisible=!i.popperVisible,i.isSubmit=!1,o.modelValue||l(),r.emit&&r.emit("inputClick")},h=function(){i.popperVisible=!1,r.emit&&r.emit("closeClick")},H=function(t){const{type:a}=t.target.dataset;i.popperVisible=!1,a=="cancel"?(i.isSubmit=!1,r.emit&&r.emit("update:modelValue",u),r.emit&&r.emit("cancelClick"),W()):a=="ok"&&(i.isSubmit=!0,r.emit&&r.emit("okClick",i.currentSelect))},B=function(t,a){const c={index:{hour:"0",minute:"1",second:"2"},ref:{hour:m,minute:y,second:R}},{num:M,disabled:w}=a.dataset;if(M){if(w=="true")return;i.currentSelect[c.index[t]]=M;const K=Number(i.currentSelect[c.index[t]])*Number(d.value["popper-spinner-number-height"]);c.ref[t].value.setScrollTop(K)}},T=function(t){B("hour",t.target)},_=function(t){B("minute",t.target)},g=function(t){B("second",t.target)},f=function(t,a){const c={timers:{hour:0,minute:1,second:2},ableRange:{hour:"disabledHours",minute:"disabledMinutes",second:"disabledSeconds"}};let w=Math.round(t/Number(d.value["popper-spinner-number-height"]));if(o[c.ableRange[a]].filter(se=>se==w).length>0)return;i.currentSelect[c.timers[a]]=s(w);let U=w*Number(d.value["popper-spinner-number-height"]);p[c.timers[a]]&&(clearTimeout(p[c.timers[a]]),p[c.timers[a]]=null),p[c.timers[a]]=setTimeout(()=>{a=="hour"&&m.value.setScrollTop(U),a=="minute"&&y.value.setScrollTop(U),a=="second"&&R.value.setScrollTop(U)},200)},I=function(t,a){f(a,"hour")},O=function(t,a){f(a,"minute")},z=function(t,a){f(a,"second")},F=()=>{i.hourList=new Array(24).fill(0).map((t,a)=>a<10?"0"+a:a+""),i.minuteList=new Array(60).fill(0).map((t,a)=>a<10?"0"+a:a+""),i.secondList=new Array(60).fill(0).map((t,a)=>a<10?"0"+a:a+"")},W=function(){u&&(m.value.setScrollTop(Number(u.slice(0,2))*Number(d.value["popper-spinner-number-height"])),y.value.setScrollTop(Number(u.slice(3,5))*Number(d.value["popper-spinner-number-height"])),R.value.setScrollTop(Number(u.slice(6,8))*Number(d.value["popper-spinner-number-height"])))},l=()=>{const t=new Date,a=t.getHours(),c=t.getMinutes(),M=t.getSeconds();i.currentSelect[0]=s(a),i.currentSelect[1]=s(c),i.currentSelect[2]=s(M),m.value.setScrollTop(Number(i.currentSelect[0])*Number(d.value["popper-spinner-number-height"])),y.value.setScrollTop(Number(i.currentSelect[1])*Number(d.value["popper-spinner-number-height"])),R.value.setScrollTop(Number(i.currentSelect[2])*Number(d.value["popper-spinner-number-height"])),r.emit&&r.emit("update:modelValue",i.currentSelect[0]+":"+i.currentSelect[1]+":"+i.currentSelect[2])},S=function(){if(o.modelValue&&b(o.modelValue)){const t=o.modelValue.split(":"),a=o.disabledHours.findIndex(w=>w==t[0])!=-1,c=o.disabledMinutes.findIndex(w=>w==t[1])!=-1,M=o.disabledSeconds.findIndex(w=>w==t[2])!=-1;if(a||c||M)return console.warn("输入的值包含禁用项,已被清空"),r.emit&&r.emit("update:modelValue",""),!0}return!1};e.onBeforeMount(()=>{if(o.modelValue&&b(o.modelValue)&&!S()){const t=o.modelValue.split(":");i.currentSelect[0]=t[0],i.currentSelect[1]=t[1],i.currentSelect[2]=t[2],u=o.modelValue}}),e.onMounted(()=>{F(),e.nextTick(()=>{W()})});const d=e.computed(()=>Object.assign(Q.dynamicCss.default(),o.dynamicCss)),j=e.computed(()=>{const t={};for(const a in d.value)a.includes("input")&&(t[a]=d.value[a]);return t}),Y=e.computed({get(){return S(),o.modelValue},set(t){r.emit&&r.emit("update:modelValue",t)}}),E=e.computed(()=>o.clearable),L=function(t,a){const c={hour:"disabledHours",minute:"disabledMinutes",second:"disabledSeconds"};let M=!1;return o[c[t]].forEach(w=>w==a?M=!0:""),M},Z=e.computed(()=>function(t){return L("hour",t)}),q=e.computed(()=>function(t){return L("minute",t)}),G=e.computed(()=>function(t){return L("second",t)});return e.watchEffect(()=>{const t=i.currentSelect[0],a=i.currentSelect[1],c=i.currentSelect[2];if(!t&&!a&&!c){r.emit&&r.emit("update:modelValue","");return}const M=t+":"+a+":"+c;r.emit&&r.emit("update:modelValue",M)}),e.watchEffect(()=>{i.isSubmit&&(u=o.modelValue,r.emit&&r.emit("update:modelValue",u))}),e.provide(ae,{timePickerRef:n}),()=>e.withDirectives(e.createVNode("div",{ref:n,"data-id":i.uuid,class:[xe(Se())],onClick:v},[e.createVNode(e.resolveComponent("vi-time-picker-input"),{placeholder:o.placeholder,modelValue:Y.value,"onUpdate:modelValue":t=>Y.value=t,onFocus:x,onBlur:k,onClose:h,dynamicCss:j.value||{},clearable:E.value,readonly:!0,onClick:P},null),e.createVNode(e.resolveComponent("vi-time-picker-popper"),{active:i.popperVisible},{default:()=>[e.createVNode("div",{class:"time-panel"},[e.createVNode("div",{class:"time-panel__content"},[e.createVNode(e.resolveComponent("vi-scroll-bar"),{ref:m,class:"time-panel__spinner time-panel__popper-spinner--hour",onScroll:I,height:Number(d.value["popper-spinner-number-height"])*6+"px"},{default:()=>[e.createVNode("ul",{onClick:T},[i.hourList.map(t=>e.createVNode("li",{"data-num":t,"data-disabled":Z.value(Number(t)),class:[i.currentSelect[0]==t?"active":"",Z.value(Number(t))?"disabled":""]},[t]))])]}),e.createVNode(e.resolveComponent("vi-scroll-bar"),{ref:y,class:"time-panel__spinner time-panel__popper-spinner--minutes",onScroll:O,height:Number(d.value["popper-spinner-number-height"])*6+"px"},{default:()=>[e.createVNode("ul",{onClick:_},[i.minuteList.map(t=>e.createVNode("li",{"data-num":t,"data-disabled":q.value(Number(t)),class:[i.currentSelect[1]==t?"active":"",q.value(Number(t))?"disabled":""]},[t]))])]}),e.createVNode(e.resolveComponent("vi-scroll-bar"),{ref:R,class:"time-panel__spinner time-panel__popper-spinner--second",onScroll:z,height:Number(d.value["popper-spinner-number-height"])*6+"px"},{default:()=>[e.createVNode("ul",{onClick:g},[i.secondList.map(t=>e.createVNode("li",{"data-num":t,"data-disabled":G.value(Number(t)),class:[i.currentSelect[2]==t?"active":"",G.value(Number(t))?"disabled":""]},[t]))])]})]),e.createVNode("div",{class:"time-panel__footer",onClick:H},[e.createVNode("div",{"data-type":"cancel",class:"time-panel__footer_cancel"},[e.createTextVNode("取消")]),e.createVNode("div",{"data-type":"ok",class:"time-panel__footer_ok"},[e.createTextVNode("确认")])])])]})]),[[e.resolveDirective("css"),d.value||{}]])}}),ue=ie(Ne,"time-picker");exports.TimePicker=ue;exports.default=ue;
