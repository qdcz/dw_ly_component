(function(r,n){typeof exports=="object"&&typeof module<"u"?n(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],n):(r=typeof globalThis<"u"?globalThis:r||self,n((r.dw=r.dw||{},r.dw["uiscroll-block"]={}),r.Vue))})(this,function(r,n){"use strict";const S=(e,s)=>(e.install=function(o){if(e){const l=e.name||e.__name;if(l||s){const t=s?`dw-${s}`:"dw-"+l.replace(/dw/gi,"").toLowerCase();o.component(t,e)}else console.error(e,s,!s)}},e),g={label:{type:[String,Number],default:""},value:{type:[String,Number],default:""},showCount:{type:Number,default:4},modelValue:{type:[Array],default:["https://cdnforspeed.oss-cn-beijing.aliyuncs.com/Img/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0%E5%9B%BE%E7%89%87/20240207113212.png","https://cdnforspeed.oss-cn-beijing.aliyuncs.com/Img/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0%E5%9B%BE%E7%89%87/20240207173357.png","https://cdnforspeed.oss-cn-beijing.aliyuncs.com/Img/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0%E5%9B%BE%E7%89%87/20240218221447.jpg","https://cdnforspeed.oss-cn-beijing.aliyuncs.com/Img/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0%E5%9B%BE%E7%89%87/20240222153642.png","https://cdnforspeed.oss-cn-beijing.aliyuncs.com/Img/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0%E5%9B%BE%E7%89%87/20240222153607.png","https://cdnforspeed.oss-cn-beijing.aliyuncs.com/Img/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0%E5%9B%BE%E7%89%87/20220105175300.png"]},dynamicCss:{type:Object,default:()=>({"bs-box-height":"100","bs-box-width":"320","bs-img-height":"100","bs-img-width":"100","bs-img-interval":"10"})}},j=e=>Array.isArray(e);function L(e){const s=`vi-${e}`;return{n:t=>t?t.startsWith("-")?`${s}${t}`:`${s}_${t}`:s,classes:(...t)=>t.map(d=>{if(j(d)){const[i,m,f=null]=d;return i?m:f}return d})}}const p=function(e,s){for(let[o,l]of Object.entries(s.value))e.style.setProperty("--"+o,l)},V={mounted(e,s){p(e,s)},updated(e,s){p(e,s)},install(e){e.directive("Css",this)}},{n:$,classes:z}=L("scroll-block"),I=n.defineComponent({name:"VIScrollBlock",directives:{css:V},props:g,emits:["click","update:modelValue","change"],setup(e,s){var y;(y=n.getCurrentInstance())!=null&&y.vnode.props;const o=n.ref(),l=n.ref(!0);let t=n.ref([]),d=n.ref([]),i=0;const m=n.reactive({transform:"translateX(0px)"});function f(B,a="top",c,C,b){const k=a=="top"?B.scrollTop:a=="left"?B.scrollLeft:0,F=c-k,M=performance.now();function w(){const E=performance.now()-M,u=P(E,k,F,C);a=="top"?B.scrollTop=u:a=="left"&&(B.scrollLeft=u),E<C?requestAnimationFrame(w):b&&b()}function P(_,E,u,q){return u*_/q+E}requestAnimationFrame(w)}const D=n.computed(()=>(e.modelValue.length<=e.showCount&&(t.value=[...e.modelValue,...e.modelValue],d.value=[...t.value.slice(0)]),e.dynamicCss["bs-box-width"]=e.showCount*e.dynamicCss["bs-img-width"]+(e.showCount-1)*e.dynamicCss["bs-img-interval"],Object.assign(g.dynamicCss.default(),e.dynamicCss))),h=B=>{let a=0,c=null;B=="front"?(c=o.value.children[0],a=c.scrollWidth-c.clientWidth):B=="backend"&&(c=o.value.children[1],a=c.scrollWidth-c.clientWidth),i=i+a,f(c,"left",i,5e3,()=>{l.value=!l.value,c.scrollLeft=0,i=0,h(l.value?"front":"backend")})};return setTimeout(()=>{h("front")},1e3),{n:$,classes:z,scrollBlockDom:o,toggleScrollBox:l,imgList:t,imgList1:d,dynamicStyle:m,dynamicCssBridge:D}}}),T=(e,s)=>{const o=e.__vccOpts||e;for(const[l,t]of s)o[l]=t;return o},N=["src"],W=["src"];function O(e,s,o,l,t,d){const i=n.resolveDirective("css");return n.withDirectives((n.openBlock(),n.createElementBlock("div",{class:n.normalizeClass([e.classes(e.n())]),ref:"scrollBlockDom"},[n.createElementVNode("div",{class:n.normalizeClass([e.classes(e.n("_wrapper"))]),style:n.normalizeStyle({opacity:e.toggleScrollBox?1:0})},[n.createElementVNode("div",{class:n.normalizeClass([e.classes(e.n("_wrapper__inner")),"0"])},[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(e.imgList,(m,f)=>(n.openBlock(),n.createElementBlock("img",{class:n.normalizeClass([e.n("_wrapper__inner__image")]),key:f,src:m},null,10,N))),128))],2)],6),n.createElementVNode("div",{class:n.normalizeClass([e.classes(e.n("_wrapper"))]),style:n.normalizeStyle({opacity:e.toggleScrollBox?0:1})},[n.createElementVNode("div",{class:n.normalizeClass([e.classes(e.n("_wrapper__inner")),"1"])},[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(e.imgList1,(m,f)=>(n.openBlock(),n.createElementBlock("img",{class:n.normalizeClass([e.n("_wrapper__inner__image")]),key:f,src:m},null,10,W))),128))],2)],6)],2)),[[i,e.dynamicCssBridge]])}const A=S(T(I,[["render",O]]),"scroll-block");r.ScrollBlock=A,r.default=A,Object.defineProperties(r,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
