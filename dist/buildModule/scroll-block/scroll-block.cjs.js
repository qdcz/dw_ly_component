"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const s=require("vue"),V=(e,n)=>(e.install=function(o){if(e){const l=e.name||e.__name;if(l||n){const t=n?`dw-${n}`:"dw-"+l.replace(/dw/gi,"").toLowerCase();o.component(t,e)}else console.error(e,n,!n)}},e),C={label:{type:[String,Number],default:""},value:{type:[String,Number],default:""},showCount:{type:Number,default:4},modelValue:{type:[Array],default:["https://cdnforspeed.oss-cn-beijing.aliyuncs.com/Img/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0%E5%9B%BE%E7%89%87/20240207113212.png","https://cdnforspeed.oss-cn-beijing.aliyuncs.com/Img/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0%E5%9B%BE%E7%89%87/20240207173357.png","https://cdnforspeed.oss-cn-beijing.aliyuncs.com/Img/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0%E5%9B%BE%E7%89%87/20240218221447.jpg","https://cdnforspeed.oss-cn-beijing.aliyuncs.com/Img/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0%E5%9B%BE%E7%89%87/20240222153642.png","https://cdnforspeed.oss-cn-beijing.aliyuncs.com/Img/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0%E5%9B%BE%E7%89%87/20240222153607.png","https://cdnforspeed.oss-cn-beijing.aliyuncs.com/Img/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0%E5%9B%BE%E7%89%87/20220105175300.png"]},dynamicCss:{type:Object,default:()=>({"bs-box-height":"100","bs-box-width":"320","bs-img-height":"100","bs-img-width":"100","bs-img-interval":"10"})}},$=e=>Array.isArray(e);function z(e){const n=`vi-${e}`;return{n:t=>t?t.startsWith("-")?`${n}${t}`:`${n}_${t}`:n,classes:(...t)=>t.map(a=>{if($(a)){const[c,u,d=null]=a;return c?u:d}return a})}}const b=function(e,n){for(let[o,l]of Object.entries(n.value))e.style.setProperty("--"+o,l)},I={mounted(e,n){b(e,n)},updated(e,n){b(e,n)},install(e){e.directive("Css",this)}},{n:N,classes:T}=z("scroll-block"),W=s.defineComponent({name:"VIScrollBlock",directives:{css:I},props:C,emits:["click","update:modelValue","change"],setup(e,n){var f;(f=s.getCurrentInstance())!=null&&f.vnode.props;const o=s.ref(),l=s.ref(!0);let t=s.ref([]),a=s.ref([]),c=0;const u=s.reactive({transform:"translateX(0px)"});function d(m,i="top",r,p,A){const h=i=="top"?m.scrollTop:i=="left"?m.scrollLeft:0,_=r-h,S=performance.now();function y(){const B=performance.now()-S,E=j(B,h,_,p);i=="top"?m.scrollTop=E:i=="left"&&(m.scrollLeft=E),B<p?requestAnimationFrame(y):A&&A()}function j(v,B,E,L){return E*v/L+B}requestAnimationFrame(y)}const w=s.computed(()=>(e.modelValue.length<=e.showCount&&(t.value=[...e.modelValue,...e.modelValue],a.value=[...t.value.slice(0)]),e.dynamicCss["bs-box-width"]=e.showCount*e.dynamicCss["bs-img-width"]+(e.showCount-1)*e.dynamicCss["bs-img-interval"],Object.assign(C.dynamicCss.default(),e.dynamicCss))),g=m=>{let i=0,r=null;m=="front"?(r=o.value.children[0],i=r.scrollWidth-r.clientWidth):m=="backend"&&(r=o.value.children[1],i=r.scrollWidth-r.clientWidth),c=c+i,d(r,"left",c,5e3,()=>{l.value=!l.value,r.scrollLeft=0,c=0,g(l.value?"front":"backend")})};return setTimeout(()=>{g("front")},1e3),{n:N,classes:T,scrollBlockDom:o,toggleScrollBox:l,imgList:t,imgList1:a,dynamicStyle:u,dynamicCssBridge:w}}}),O=(e,n)=>{const o=e.__vccOpts||e;for(const[l,t]of n)o[l]=t;return o},D=["src"],F=["src"];function M(e,n,o,l,t,a){const c=s.resolveDirective("css");return s.withDirectives((s.openBlock(),s.createElementBlock("div",{class:s.normalizeClass([e.classes(e.n())]),ref:"scrollBlockDom"},[s.createElementVNode("div",{class:s.normalizeClass([e.classes(e.n("_wrapper"))]),style:s.normalizeStyle({opacity:e.toggleScrollBox?1:0})},[s.createElementVNode("div",{class:s.normalizeClass([e.classes(e.n("_wrapper__inner")),"0"])},[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(e.imgList,(u,d)=>(s.openBlock(),s.createElementBlock("img",{class:s.normalizeClass([e.n("_wrapper__inner__image")]),key:d,src:u},null,10,D))),128))],2)],6),s.createElementVNode("div",{class:s.normalizeClass([e.classes(e.n("_wrapper"))]),style:s.normalizeStyle({opacity:e.toggleScrollBox?0:1})},[s.createElementVNode("div",{class:s.normalizeClass([e.classes(e.n("_wrapper__inner")),"1"])},[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(e.imgList1,(u,d)=>(s.openBlock(),s.createElementBlock("img",{class:s.normalizeClass([e.n("_wrapper__inner__image")]),key:d,src:u},null,10,F))),128))],2)],6)],2)),[[c,e.dynamicCssBridge]])}const P=O(W,[["render",M]]),k=V(P,"scroll-block");exports.ScrollBlock=k;exports.default=k;
