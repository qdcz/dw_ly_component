"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var t=require("vue");const pe=(n,o)=>(n.install=function(u){const a=o?`vi-${o}`:"vi-"+n.name.replace(/vi/gi,"").toLowerCase();u.component(a,n)},n),de=n=>Array.isArray(n);function k(n){const o=`vi-${n}`;return{n:p=>p?p.startsWith("-")?`${o}${p}`:`${o}_${p}`:o,classes:(...p)=>p.map(i=>{if(de(i)){const[w,h,b=null]=i;return w?h:b}return i})}}const $={clearable:{type:[String,Boolean],default:!1},isRange:{type:[String,Boolean],default:!1},disabledHours:{type:Array,default:[]},disabledMinutes:{type:Array,default:[]},disabledSeconds:{type:Array,default:[]},arrowControl:{type:[String,Boolean],default:""},placeholder:{type:String,default:"Arbitrary time"},startPlaceholder:String,endPlaceholder:String,modelValue:{type:[String,Number,Boolean],default:""},dynamicCss:{type:Object,default:()=>({"base-margin-t":"10","base-margin-r":"10","base-margin-b":"10","base-margin-l":"10","input-box-shadow-x":"0","input-box-shadow-y":"0","input-box-shadow-blur":"0","input-box-shadow-spread":"1","input-box-shadow-color":"#dcdfe6","input-hover-box-shadow-x":"0","input-hover-box-shadow-y":"0","input-hover-box-shadow-blur":"0","input-hover-box-shadow-spread":"1","input-hover-box-shadow-color":"#85a2dd","input-active-box-shadow-x":"0","input-active-box-shadow-y":"0","input-active-box-shadow-blur":"0","input-active-box-shadow-spread":"1","input-active-box-shadow-color":"rgb(0, 94, 255)","input-border-radius":"4","input-line-padding-t":"0","input-line-padding-r":"28","input-line-padding-b":"0","input-line-padding-l":"8","input-bg-color":"rgba(255,255,255)","input-fo-color":"#606266","input-line-height":"30","input-width":"200","input-text-alight":"start","popper-bg-color":"#fff","popper-height":"228","popper-border-radius":"8","popper-z-index":"999","popper-box-shadow-x":"0","popper-box-shadow-y":"0","popper-box-shadow-blur":"12","popper-box-shadow-spread":"0","popper-box-shadow-color":"rgba(0, 0, 0, 0.12)","popper-arrow-height":"10","popper-panel-padding-t":"8","popper-panel-padding-r":"4","popper-panel-padding-b":"0","popper-panel-padding-l":"4","popper-footer-height":"36","popper-footer-fo-size":"12","popper-footer-border-top-width":"1","popper-footer-border-top-style":"solid","popper-footer-border-top-color":"rgb(228, 231, 237)","popper-footer-cancel-fo-color":"#303133","popper-footer-ok-fo-color":"skyblue","popper-footer-ok-fo-weight":"800","popper-footer-ok-margin-t":"0","popper-footer-ok-margin-r":"5","popper-footer-ok-margin-b":"0","popper-footer-ok-margin-l":"5","popper-footer-ok-padding-t":"0","popper-footer-ok-padding-r":"5","popper-footer-ok-padding-b":"0","popper-footer-ok-padding-l":"5","popper-spinner-pitch-box-border-top-width":"1","popper-spinner-pitch-box-border-top-style":"solid","popper-spinner-pitch-box-border-top-color":"#e4e7ed","popper-spinner-pitch-box-border-bottom-width":"1","popper-spinner-pitch-box-border-bottom-style":"solid","popper-spinner-pitch-box-border-bottom-color":"#e4e7ed","popper-spinner-number-height":"32","popper-spinner-number-fo-color":"#606266","popper-spinner-number-fo-size":"12","popper-spinner-number-hover-bg-color":"#e0e0e0","popper-spinner-number-active-fo-color":"#000","popper-spinner-number-active-fo-weight":"700","popper-spinner-number-active-hover-bg-color":"rgba($color: #e0e0e0, $alpha: 0)","popper-spinner-number-disabled-fo-color":"rgb(223, 223, 223)","popper-spinner-number-disabled-hover-bg-color":"rgba($color: #e0e0e0, $alpha: 0)","scroll-bar-thumb-width":"8",scrollBarHeight:"60",scrollBarBgColor:"rgb(218, 218, 218)",scrollBarBgColorHover:"skyblue"})}},U=Symbol("time-picker"),F=function(n,o){for(let[u,a]of Object.entries(o.value))n.style.setProperty("--"+u,a)},I={mounted(n,o){F(n,o)},updated(n,o){F(n,o)},install(n){n.directive("Css",this)}},A={modelValue:{type:[String,Number,Array],default:""},showPassword:{type:[String,Boolean],default:!1},readonly:{type:[String,Boolean],default:!1},clearable:{type:[String,Boolean],default:!1},placeholder:{type:String,default:"\u8BF7\u9009\u62E9\u60A8\u9700\u8981\u7684\u5185\u5BB9o(*\uFFE3\u25BD\uFFE3*)\u30D6"},dynamicCss:{type:Object,default:()=>({"input-box-shadow-x":"0","input-box-shadow-y":"0","input-box-shadow-blur":"0","input-box-shadow-spread":"1","input-box-shadow-color":"#dcdfe6","input-box-hover-shadow-x":"0","input-box-hover-shadow-y":"0","input-box-hover-shadow-blur":"0","input-box-hover-shadow-spread":"1","input-box-hover-shadow-color":"#85a2dd","input-box-active-shadow-x":"0","input-box-active-shadow-y":"0","input-box-active-shadow-blur":"0","input-box-active-shadow-spread":"1","input-box-active-shadow-color":"rgb(0, 94, 255)","input-border-radius":"4","input-line-padding-t":"0","input-line-padding-r":"28","input-line-padding-b":"0","input-line-padding-l":"8","input-bg-color":"rgba(255,255,255)","input-fo-color":"#606266","input-line-height":"30","input-width":"200","input-text-alight":"start"})}},me={path:{type:String,default:`M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 
        764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 
        45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z`},height:{type:[String,Number],default:"12px"},width:{type:[String,Number],default:"12px"},modelValue:{type:[String,Number,Boolean],default:""}},{n:fe,classes:he}=k("input-svg-icon");var O=t.defineComponent({name:"VIInputSvgIcon",emits:["click"],props:me,setup(n,o){const u=function(a){o.emit("click",a)};return()=>t.createVNode("svg",{class:[he(fe()),"icon"],height:n.height,width:n.width,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",onClick:u},[t.createVNode("path",{fill:"currentColor",d:n.path},null)])}});const{n:j,classes:be}=k("input");var z=t.defineComponent({name:"VIInput",emits:["focus","blur","click","update:modelValue","close"],directives:{css:I},props:A,components:[O],setup(n,o){const u="M576 512l277.333333 277.333333-64 64-277.333333-277.333333L234.666667 853.333333 170.666667 789.333333l277.333333-277.333333L170.666667 234.666667 234.666667 170.666667l277.333333 277.333333L789.333333 170.666667 853.333333 234.666667 576 512z",a=t.reactive({softFocus:!1,isHover:!1}),p=function(m){g.value||o.emit("click",m)},i=function(m){g.value||(o.emit("update:modelValue",m.target.value),o.emit("close"),m.stopPropagation())},w=function(m){g.value||(o.emit("focus",m),a.softFocus=!0)},h=function(m){g.value||(o.emit("blur",m),a.softFocus=!1)},b=function(m){g.value||(a.isHover=!0)},V=function(m){g.value||(a.isHover=!1)},r=function(m){g.value||o.emit("update:modelValue",m.target.value)},y=function(m){g.value||o.emit("update:modelValue",m.target.value)},c=t.computed(()=>Object.assign(A.dynamicCss.default(),n.dynamicCss)),S=t.computed(()=>typeof n.readonly=="string"?!0:n.readonly),B=t.computed(()=>typeof n.clearable=="string"?!0:n.clearable),N=t.computed(()=>typeof n.showPassword=="string"?!0:n.showPassword),M=t.computed(()=>a.softFocus?"active":""),g=t.computed(()=>S.value?"disabled":"");return()=>t.withDirectives(t.createVNode("div",{class:[be(j()),M.value,g.value],onClick:p,onmouseenter:b,onmouseleave:V},[t.createVNode("input",{class:[j("_inner")],placeholder:n.placeholder,onFocus:w,onBlur:h,readonly:S.value,value:n.modelValue,onChange:r,onInput:y,type:N.value?"password":"text"},null),n.modelValue&&B.value&&a.isHover?t.createVNode(O,{class:"icon",path:u,onClick:i},null):""]),[[t.resolveDirective("css"),c.value||{}]])}});const{n:C,classes:G}=k("popper");var K=t.defineComponent({name:"VITimePickerPopper",emits:["focus","blur","click"],props:["active"],setup(n,o){let{timePickerRef:u}=t.inject(U);const a=t.reactive({parentRect:{x:0,y:0},dropdownTop:0}),p=t.ref(null),i=t.ref(null),w=()=>{t.nextTick(()=>{a.parentRect=u.value.getBoundingClientRect(),a.dropdownTop=a.parentRect.height+10+"px"})};return t.onMounted(()=>w()),()=>{var h,b;return t.createVNode("div",{class:[C(""),n.active?"active":""],style:{top:a.dropdownTop}},[t.createVNode("div",{ref:p,class:[C("_arrow")]},[n.active]),t.createVNode("div",{ref:i,class:[G(C("_content"))]},[t.createVNode("div",{class:[G(C("_inner"))]},[(b=(h=o.slots).default)==null?void 0:b.call(h)])])])}}});const{n:P,classes:ve}=k("scroll-bar");var x=t.defineComponent({name:"VIScrollBar",emits:["focus","blur","click","scroll","getRef"],props:["dynamicCss"],directives:{css:I},setup(n,o){const u=t.ref(null),a=t.ref(null),p=t.ref(null),i=t.reactive({realMargin:0,realPadding:0,viewHeight:0,realHeight:"0",maxScrollBoxRange:0,proportion:0,scrollBarHeight:0,maxScrollBarRange:0,scrollBarMovePropor:0,scrollBoxMovePropor:0,translateY:0,startY:"",moveY:"",mouseMoving:!1});t.onMounted(()=>{t.nextTick(()=>{i.scrollBoxRealHeight=window.getComputedStyle(p.value).height.replace("px","")*1,i.scrollBarViewHeight=window.getComputedStyle(u.value).height.replace("px","")*1,i.scrollBoxMaxRange=i.scrollBoxRealHeight-i.scrollBarViewHeight,o.emit&&o.emit("getRef",u)})});const w=t.computed(()=>i.scrollBarHeight<i.realHeight.replace("px","")*1),h=function(c){o.emit("scroll",c)},b=function(c){document.addEventListener("mousedown",V),document.addEventListener("mousemove",r)},V=function(c){i.mouseMoving=!0,i.startY=c.clientY},r=function(c){i.moveY=i.startY-c.clientY,y(i.moveY)};document.addEventListener("mouseup",()=>{document.removeEventListener("mousemove",r),document.removeEventListener("mousedown",V),i.startY=0,i.moveY=0,i.mouseMoving&&(i.translateY=i._move),i.mouseMoving=!1});const y=function(){let c=0;i.moveY<0?c=i.translateY+Math.abs(i.moveY):i.moveY>=0&&(c=i.translateY-Math.abs(i.moveY)),c<0&&(c=0),c>i.maxScrollBarRange&&(c=i.maxScrollBarRange),i._move=c,a.value.style.transform=`translateY(${c}px)`,u.value.scrollTop=Math.abs(i.scrollBoxMovePropor*c)};return()=>{var c,S;return t.withDirectives(t.createVNode("div",{class:[ve(P())]},[t.createVNode("div",{class:P("left"),ref:u,onScroll:h},[t.createVNode("div",{ref:p},[(S=(c=o.slots).default)==null?void 0:S.call(c)])]),w.value?t.createVNode("div",{ref:a,class:P("right"),style:{height:i.scrollBarHeight+"px"},onmousedown:b},null):""]),[[t.resolveDirective("css"),Object.assign(n.dynamicCss||{},{})]])}}});const{n:ge,classes:we}=k("time-picker");var Ve=t.defineComponent({name:"VITimePicker",emits:["click","inputClick","closeClick","cancelClick","okClick","update:modelValue"],directives:{css:I},props:$,components:[z,K,x],setup(n,o){const u=[null,null,null];let a="";const p=e=>e<10?"0"+e:e+"",i=()=>"xxxxxxxx".replace(/[xy]/g,function(e){var l=0|16*Math.random(),s=e=="x"?l:8|3&l;return s.toString(16)}),w=t.ref();let h=t.ref(),b=t.ref(),V=t.ref();const r=t.reactive({uuid:i(),popperVisible:!1,softFocus:!1,isSubmit:!1,hourList:[],minuteList:[],secondList:[],currentSelect:["","",""]}),y=e=>h=e,c=e=>b=e,S=e=>V=e,B=function(){r.popperVisible=!1,r.softFocus=!1},N=function(e){let l=!1;for(let s=0;s<e.path.length;s++){let d=e.path[s];if(d.classList&&d.classList.value&&d.getAttribute("class").includes("-time-picker")&&d.dataset.id==r.uuid){l=!0;break}}l||(B(),r.isSubmit=!0)};document.addEventListener("mousedown",N);const M=function(e){},g=function(e){},m=function(){o.emit&&o.emit("click")},J=function(e){r.popperVisible=!r.popperVisible,r.isSubmit=!1,n.modelValue||ie(),o.emit&&o.emit("inputClick")},W=function(){r.popperVisible=!1,o.emit&&o.emit("closeClick")},Q=function(e){let{type:l}=e.target.dataset;r.popperVisible=!1,l=="cancel"?(r.isSubmit=!1,o.emit&&o.emit("update:modelValue",a),o.emit&&o.emit("cancelClick"),le()):l=="ok"&&(r.isSubmit=!0,o.emit&&o.emit("okClick",r.currentSelect))},_=function(e,l){const s={index:{hour:"0",minute:"1",second:"2"},ref:{hour:h,minute:b,second:V}};let{num:d,disabled:f}=l.dataset;if(d){if(f=="true")return;r.currentSelect[s.index[e]]=d;let E=r.currentSelect[s.index[e]]*v.value["popper-spinner-number-height"]*1;s.ref[e].value.scrollTop=E}},X=function(e){_("hour",e.target)},Z=function(e){_("minute",e.target)},ee=function(e){_("second",e.target)},T=function(e,l){const s={timers:{hour:0,minute:1,second:2},ableRange:{hour:"disabledHours",minute:"disabledMinutes",second:"disabledSeconds"}};let d=e.scrollTop,f=Math.round(d/v.value["popper-spinner-number-height"]*1);if(n[s.ableRange[l]].filter(ue=>ue==f).length>0)return;r.currentSelect[s.timers[l]]=p(f);let ce=f*v.value["popper-spinner-number-height"]*1;u[s.timers[l]]&&(clearTimeout(u[s.timers[l]]),u[s.timers[l]]=null),u[s.timers[l]]=setTimeout(()=>{e.scrollTop=ce},200)},te=function(e){T(e.target,"hour")},oe=function(e){T(e.target,"minute")},ne=function(e){T(e.target,"second")},re=()=>{r.hourList=new Array(24).fill(0).map((e,l)=>l<10?"0"+l:l+""),r.minuteList=new Array(60).fill(0).map((e,l)=>l<10?"0"+l:l+""),r.secondList=new Array(60).fill(0).map((e,l)=>l<10?"0"+l:l+"")},le=function(){a&&(h.value.scrollTop=a.slice(0,2)*v.value["popper-spinner-number-height"]*1,b.value.scrollTop=a.slice(3,5)*v.value["popper-spinner-number-height"]*1,V.value.scrollTop=a.slice(6,8)*v.value["popper-spinner-number-height"]*1)},ie=()=>{let e=new Date,l=e.getHours(),s=e.getMinutes(),d=e.getSeconds();r.currentSelect[0]=p(l),r.currentSelect[1]=p(s),r.currentSelect[2]=p(d),h.value.scrollTop=r.currentSelect[0]*v.value["popper-spinner-number-height"]*1,b.value.scrollTop=r.currentSelect[1]*v.value["popper-spinner-number-height"]*1,V.value.scrollTop=r.currentSelect[2]*v.value["popper-spinner-number-height"]*1,o.emit&&o.emit("update:modelValue",r.currentSelect[0]+":"+r.currentSelect[1]+":"+r.currentSelect[2])};t.onMounted(()=>{re(),a=n.modelValue});const v=t.computed(()=>Object.assign($.dynamicCss.default(),n.dynamicCss)),ae=t.computed(()=>{let e={};for(let l in v.value)l.includes("input")&&(e[l]=v.value[l]);return e}),L=t.computed({get(){if(n.modelValue){let e=n.modelValue.split(":"),l=n.disabledHours.findIndex(f=>f==e[0])!=-1,s=n.disabledMinutes.findIndex(f=>f==e[1])!=-1,d=n.disabledSeconds.findIndex(f=>f==e[2])!=-1;(l||s||d)&&o.emit&&o.emit("update:modelValue","")}return n.modelValue},set(e){o.emit&&o.emit("update:modelValue",e)}}),se=t.computed(()=>n.clearable),R=function(e,l){const s={hour:"disabledHours",minute:"disabledMinutes",second:"disabledSeconds"};let d=!1;return n[s[e]].forEach(f=>f==l?d=!0:""),d},H=t.computed(()=>function(e){return R("hour",e)}),D=t.computed(()=>function(e){return R("minute",e)}),Y=t.computed(()=>function(e){return R("second",e)});return t.watchEffect(()=>{let e=r.currentSelect[0],l=r.currentSelect[1],s=r.currentSelect[2];if(!e&&!l&&!s){o.emit&&o.emit("update:modelValue","");return}let d=e+":"+l+":"+s;o.emit&&o.emit("update:modelValue",d)}),t.watchEffect(()=>{r.isSubmit&&(a=n.modelValue,o.emit&&o.emit("update:modelValue",a))}),t.provide(U,{timePickerRef:w}),()=>t.withDirectives(t.createVNode("div",{ref:w,"data-id":r.uuid,class:[we(ge())],onClick:m},[t.createVNode(z,{placeholder:n.placeholder,modelValue:L.value,"onUpdate:modelValue":e=>L.value=e,onFocus:M,onBlur:g,onClose:W,dynamicCss:ae.value||{},clearable:se.value,onClick:J},null),t.createVNode(K,{active:r.popperVisible},{default:()=>[t.createVNode("div",{className:"time-panel"},[t.createVNode("div",{className:"time-panel__content"},[t.createVNode(x,{onGetRef:y,className:"time-panel__spinner time-panel__popper-spinner--hour",onScroll:te},{default:()=>[t.createVNode("ul",{onClick:X},[r.hourList.map(e=>t.createVNode("li",{"data-num":e,"data-disabled":H.value(e),class:[r.currentSelect[0]==e?"active":"",H.value(e)?"disabled":""]},[e]))])]}),t.createVNode(x,{onGetRef:c,className:"time-panel__spinner time-panel__popper-spinner--minutes",onScroll:oe},{default:()=>[t.createVNode("ul",{onClick:Z},[r.minuteList.map(e=>t.createVNode("li",{"data-num":e,"data-disabled":D.value(e),class:[r.currentSelect[1]==e?"active":"",D.value(e)?"disabled":""]},[e]))])]}),t.createVNode(x,{onGetRef:S,className:"time-panel__spinner time-panel__popper-spinner--second",onScroll:ne},{default:()=>[t.createVNode("ul",{onClick:ee},[r.secondList.map(e=>t.createVNode("li",{"data-num":e,"data-disabled":Y.value(e),class:[r.currentSelect[2]==e?"active":"",Y.value(e)?"disabled":""]},[e]))])]})]),t.createVNode("div",{className:"time-panel__footer",onClick:Q},[t.createVNode("div",{"data-type":"cancel",className:"time-panel__footer_cancel"},[t.createTextVNode("Cancel")]),t.createVNode("div",{"data-type":"ok",className:"time-panel__footer_ok"},[t.createTextVNode("OK")])])])]})]),[[t.resolveDirective("css"),v.value||{}]])}});const q=pe(Ve,"time-picker");exports.VITimePicker=q;exports.default=q;
